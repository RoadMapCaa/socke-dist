"use strict";(self.webpackChunksocket_pwa=self.webpackChunksocket_pwa||[]).push([[592],{1679:(_,g,s)=>{s.d(g,{H:()=>d});var t=s(262),h=s(2340),a=s(8620),c=s(5e3),f=s(520);const{endpoint:o}=h.N,r=`${o}/control/truck-type`;let d=(()=>{class n{constructor(p){this.http=p}retrieve(p){return this.http.get(`${r}/${p}/retrieveByType`).pipe((0,t.K)(a.Po))}publicRetrieve(p){return this.http.get(`${o}/public/truck-type/${p}/retrieveByType`).pipe((0,t.K)(a.Po))}}return n.\u0275fac=function(p){return new(p||n)(c.LFG(f.eN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},327:(_,g,s)=>{s.d(g,{S:()=>O});var t=s(5e3),h=s(1134),a=s(2382),c=s(7556),f=s(5190),o=s(9808);function r(i,m){if(1&i&&(t.TgZ(0,"option",5),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.Q6J("value",e.code),t.xp6(1),t.AsE("",e.code," - ",e.name,"")}}let d=(()=>{class i{constructor(e,l,v,Z){this.bsModalRef=e,this.fb=l,this.authService=v,this.campusService=Z,this.campus=[],this.sede=this.fb.control("")}ngOnInit(){}changeCampus(e){const{uid:l}=this.authService.user;this.campusService.updateCampus(l,{campus:e.value}).subscribe(()=>this.refresh())}refresh(){window.location.reload()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.UZ),t.Y36(a.qu),t.Y36(c.e),t.Y36(f.j))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-campus-modal"]],inputs:{campus:"campus"},decls:8,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"form-select","form-select-lg",3,"formControl","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,l){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2,"Ud. no pertenece a ninguna CD."),t.qZA(),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"h5"),t._uU(5,"Seleccione su CD: "),t.qZA(),t.TgZ(6,"select",3),t.NdJ("change",function(){return l.changeCampus(l.sede)}),t.YNc(7,r,2,3,"option",4),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Q6J("formControl",l.sede),t.xp6(1),t.Q6J("ngForOf",l.campus))},directives:[a.EJ,a.JJ,a.oH,o.sg,a.YN,a.Kr],styles:[""]}),i})();var n=s(8274),u=s(2216),p=s(9539);function T(i,m){if(1&i&&(t.TgZ(0,"p",12),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("",null==e.sede?null:e.sede.code," - ",null==e.sede?null:e.sede.name,"")}}function A(i,m){1&i&&(t.TgZ(0,"li"),t.TgZ(1,"a",17),t._uU(2,"Picking"),t.qZA(),t.qZA())}function C(i,m){1&i&&(t.TgZ(0,"li"),t.TgZ(1,"a",18),t._uU(2,"Sorting"),t.qZA(),t.qZA())}function x(i,m){1&i&&(t.TgZ(0,"li"),t.TgZ(1,"a",19),t._uU(2,"Almacen"),t.qZA(),t.qZA())}function M(i,m){1&i&&(t.TgZ(0,"li"),t.TgZ(1,"a",20),t._uU(2,"Conductor"),t.qZA(),t.qZA())}function E(i,m){1&i&&(t.TgZ(0,"li"),t.TgZ(1,"a",21),t._uU(2,"Control"),t.qZA(),t.qZA())}function y(i,m){1&i&&(t.TgZ(0,"li"),t.TgZ(1,"a",22),t._uU(2,"Operador"),t.qZA(),t.qZA())}function b(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"ul",13),t.TgZ(1,"li"),t.TgZ(2,"a",14),t._uU(3,"Mi perfil"),t.qZA(),t.qZA(),t.YNc(4,A,3,0,"li",15),t.YNc(5,C,3,0,"li",15),t.YNc(6,x,3,0,"li",15),t.YNc(7,M,3,0,"li",15),t.YNc(8,E,3,0,"li",15),t.YNc(9,y,3,0,"li",15),t.TgZ(10,"li"),t.TgZ(11,"a",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().logout()}),t._uU(12,"Salir"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.user.isPicking),t.xp6(1),t.Q6J("ngIf",e.user.isSorter),t.xp6(1),t.Q6J("ngIf",e.user.isAssistant),t.xp6(1),t.Q6J("ngIf",e.user.isDriver),t.xp6(1),t.Q6J("ngIf",e.user.isControl),t.xp6(1),t.Q6J("ngIf",e.user.isOperator)}}let O=(()=>{class i{constructor(e,l,v,Z){this.authService=e,this.campusService=l,this.fb=v,this.modalService=Z,this.name="",this.user={},this.campus=[],this.name=this.authService.getFullName}ngOnInit(){this.user=this.authService.user,this.getCampus()}getCampus(){this.campusService.getCampus().subscribe(e=>{this.campus=e,this.sede=this.campus.find(l=>l.code===this.authService.user.campus),this.sede||this.openModalWithComponent()})}openModalWithComponent(){this.bsModalRef=this.modalService.show(d,{class:"modal-dialog-centered modal-md",keyboard:!1,backdrop:"static",initialState:{campus:this.campus}}),this.bsModalRef.content.closeBtnName="Close"}logout(){this.authService.logout()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.e),t.Y36(f.j),t.Y36(a.qu),t.Y36(h.tT))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-navbar"]],decls:13,vars:3,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],[1,"navbar-brand"],["src","../../../../assets/images/horizontal.png","width","150",1,"img-fluid"],["class","me-auto text-white fs-4 fw-bold mt-3",4,"ngIf"],[1,"d-flex","w-auto","align-items-center"],[1,"me-2"],["dropdown","",1,"dropdown"],["dropdownToggle","",1,"d-flex","align-items-center","hidden-arrow",2,"cursor","pointer"],[1,"d-none","d-md-block"],["size","40","initialsSize","2",1,"ms-2",3,"name"],["class","dropdown-menu dropdown-menu-end","aria-labelledby","navbarDropdownMenuAvatar",4,"dropdownMenu"],[1,"me-auto","text-white","fs-4","fw-bold","mt-3"],["aria-labelledby","navbarDropdownMenuAvatar",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item"],[4,"ngIf"],["href","javascript:;",1,"dropdown-item",3,"click"],["routerLink","/picking/enlistment","routerLinkActive","active",1,"dropdown-item"],["routerLink","/sorting/form","routerLinkActive","active",1,"dropdown-item"],["routerLink","/control/warehouse","routerLinkActive","active",1,"dropdown-item"],["routerLink","/control/driver","routerLinkActive","active",1,"dropdown-item"],["routerLink","/control/control","routerLinkActive","active",1,"dropdown-item"],["routerLink","/control/lift","routerLinkActive","active",1,"dropdown-item"]],template:function(e,l){1&e&&(t.TgZ(0,"nav",0),t.TgZ(1,"div",1),t.TgZ(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.YNc(4,T,2,2,"p",4),t.TgZ(5,"div",5),t._UZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"span",8),t.TgZ(9,"span",9),t._uU(10),t.qZA(),t._UZ(11,"ngx-avatar",10),t.qZA(),t.YNc(12,b,13,6,"ul",11),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",l.sede),t.xp6(6),t.Oqu(l.name),t.xp6(1),t.Q6J("name",l.name))},directives:[o.O5,n.TO,n.Mq,u.Ao,n.Hz,p.yS,p.Od],styles:[""]}),i})()},7893:(_,g,s)=>{s.d(g,{K:()=>o});var t=s(5e3),h=s(1465),a=s(9808);const c=function(r){return{blink:r}};function f(r,d){if(1&r&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.qZA()),2&r){const n=t.oxw();t.Q6J("ngClass",t.VKq(4,c,!n.running)),t.xp6(3),t.hij("",n.hours,":"),t.xp6(2),t.hij("",n.minutes,":"),t.xp6(2),t.Oqu(n.seconds)}}let o=(()=>{class r{constructor(){this.hours="00",this.minutes="00",this.seconds="00",this.milliseconds="00",this.progress=0,this.action="",this.maxMin=0,this.laps=[],this.running=!1,this.startText="Empezar",this.start=!0,this.typeProg="info"}ngOnChanges(n){n.start.currentValue?this.startTimer():this.clearTimer()}setProgress(n,u){u>0&&(n+=60*u),this.progress=Math.floor(100*n/this.maxMin),this.progress>=100&&(this.typeProg="danger")}startTimer(){if(this.running=!this.running,this.running){this.startText="Stop";const n=new Date(this.startTime).valueOf()-(this.counter||0);this.timerRef=setInterval(()=>{this.counter=Date.now()-n,this.hours=Math.floor(this.counter%864e5/36e5),this.minutes=Math.floor(this.counter%36e5/6e4),this.setProgress(this.minutes,this.hours),this.seconds=Math.floor(this.counter%6e4/1e3),this.minutes=Number(this.minutes)<10?"0"+this.minutes:""+this.minutes,this.milliseconds=Number(this.milliseconds)<10?"0"+this.milliseconds:""+this.milliseconds,this.seconds=Number(this.seconds)<10?"0"+this.seconds:""+this.seconds},1e3)}else this.startText="Resume",clearInterval(this.timerRef)}lapTimeSplit(){this.laps.push(this.minutes+":"+this.seconds+":"+this.milliseconds)}clearTimer(){this.running=!1,this.startText="Empezar",this.counter=void 0,this.milliseconds="00",this.seconds="00",this.minutes="00",this.hours="00",this.laps=[],clearInterval(this.timerRef)}ngOnDestroy(){clearInterval(this.timerRef)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-timer"]],inputs:{start:"start",action:"action",showTimerControls:"showTimerControls",startTime:"startTime",maxMin:"maxMin"},features:[t.TTD],decls:7,vars:8,consts:[[1,"mb-1"],[3,"max","value","type","striped","animate"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"h3","fw-bold","my-1"]],template:function(n,u){1&n&&(t.TgZ(0,"section"),t.TgZ(1,"p",0),t._uU(2),t.qZA(),t.TgZ(3,"progressbar",1),t.TgZ(4,"i"),t._uU(5),t.qZA(),t.qZA(),t.YNc(6,f,8,6,"div",2),t.qZA()),2&n&&(t.xp6(2),t.Oqu(u.action),t.xp6(1),t.Q6J("max",100)("value",u.progress)("type",u.typeProg)("striped",!0)("animate",!0),t.xp6(2),t.hij("",u.progress,"%"),t.xp6(1),t.Q6J("ngIf",u.startTime))},directives:[h.O1,a.O5,a.mk],styles:[""]}),r})()},3722:(_,g,s)=>{s.d(g,{i:()=>a});var t=s(5e3),h=s(5898);let a=(()=>{class c{constructor(o){this.socket=o,this.socketStatus=!1,this.checkStatus()}checkStatus(){this.socket.on("connect",()=>{this.socketStatus=!0}),this.socket.on("disconnect",()=>{this.socketStatus=!1})}emit(o,r,d){this.socket.emit(o,r,d)}listen(o){return this.socket.fromEvent(o)}}return c.\u0275fac=function(o){return new(o||c)(t.LFG(h.sk))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5963:(_,g,s)=>{s.d(g,{H:()=>f});var t=s(8306),h=s(4986),a=s(3532);function f(o=0,r,d=h.P){let n=-1;return null!=r&&((0,a.K)(r)?d=r:n=r),new t.y(u=>{let p=function c(o){return o instanceof Date&&!isNaN(o)}(o)?+o-d.now():o;p<0&&(p=0);let T=0;return d.schedule(function(){u.closed||(u.next(T++),0<=n?this.schedule(void 0,n):u.complete())},p)})}},4986:(_,g,s)=>{s.d(g,{z:()=>a,P:()=>c});var t=s(4408);const a=new(s(640).v)(t.o),c=a}}]);