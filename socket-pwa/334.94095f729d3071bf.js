"use strict";(self.webpackChunksocket_pwa=self.webpackChunksocket_pwa||[]).push([[334],{334:(le,p,l)=>{l.r(p),l.d(p,{PublicModule:()=>ie});var d=l(9808),Z=l(9539),e=l(5e3);let b=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-public"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[Z.lC],styles:[""]}),r})();var f=l(3722);const h=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=(()=>{const r=h[0],i={};for(const t of h)if((null==t?void 0:t[1])in document){for(const[s,n]of t.entries())i[r[s]]=n;return i}return!1})(),A={change:u.fullscreenchange,error:u.fullscreenerror};let c={request:(r=document.documentElement,i)=>new Promise((t,o)=>{const s=()=>{c.off("change",s),t()};c.on("change",s);const n=r[u.requestFullscreen](i);n instanceof Promise&&n.then(s).catch(o)}),exit:()=>new Promise((r,i)=>{if(!c.isFullscreen)return void r();const t=()=>{c.off("change",t),r()};c.on("change",t);const o=document[u.exitFullscreen]();o instanceof Promise&&o.then(t).catch(i)}),toggle:(r,i)=>c.isFullscreen?c.exit():c.request(r,i),onchange(r){c.on("change",r)},onerror(r){c.on("error",r)},on(r,i){const t=A[r];t&&document.addEventListener(t,i,!1)},off(r,i){const t=A[r];t&&document.removeEventListener(t,i,!1)},raw:u};Object.defineProperties(c,{isFullscreen:{get:()=>Boolean(document[u.fullscreenElement])},element:{enumerable:!0,get:()=>{var r;return null!=(r=document[u.fullscreenElement])?r:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[u.fullscreenEnabled])}}),u||(c={isEnabled:!1});const v=c;let q=(()=>{class r{onClick(){v.isEnabled&&v.toggle()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["","fullscreen",""]],hostBindings:function(t,o){1&t&&e.NdJ("click",function(){return o.onClick()})}}),r})();var g=l(9444);function k(r,i){if(1&r&&(e.TgZ(0,"tr",8),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8,"1 hora"),e.qZA(),e.qZA()),2&r){const t=i.$implicit;e.xp6(2),e.Oqu(t.truck.plaque),e.xp6(2),e.AsE("",t.driver.firstName," ",t.driver.lastName,""),e.xp6(2),e.Oqu(t.arrivalTime)}}function E(r,i){if(1&r&&(e.TgZ(0,"tr",8),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8,"1 hora"),e.qZA(),e.qZA()),2&r){const t=i.$implicit;e.xp6(2),e.Oqu(t.truck.plaque),e.xp6(2),e.AsE("",t.driver.firstName," ",t.driver.lastName,""),e.xp6(2),e.Oqu(t.arrivalTime)}}function O(r,i){if(1&r&&(e.TgZ(0,"tr",8),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8,"1 hora"),e.qZA(),e.qZA()),2&r){const t=i.$implicit;e.xp6(2),e.Oqu(t.truck.plaque),e.xp6(2),e.AsE("",t.driver.firstName," ",t.driver.lastName,""),e.xp6(2),e.Oqu(t.arrivalTime)}}const D=function(){return["fas","expand"]};let M=(()=>{class r{constructor(t){this.wsService=t,this.arrivalTrucks=[],this.trucksUnload=[],this.loadTrucks=[]}ngOnInit(){this.arrivalSubscription$=this.getArrivalTrucks(),this.unloadSubscription$=this.getTruckUnload(),this.loadSubscription$=this.getLoadTrucks(),this.getData()}getArrivalTrucks(){return this.wsService.listen("arrival-trucks").subscribe(t=>{this.arrivalTrucks=t})}getTruckUnload(){return this.wsService.listen("unload-trucks").subscribe(t=>{this.trucksUnload=t})}getLoadTrucks(){return this.wsService.listen("load-trucks").subscribe(t=>{this.loadTrucks=t})}getData(){this.wsService.emit("tv-arrival"),this.wsService.emit("tv-unload"),this.wsService.emit("tv-load")}ngOnDestroy(){this.arrivalSubscription$.unsubscribe(),this.unloadSubscription$.unsubscribe(),this.loadSubscription$.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tv"]],decls:54,vars:5,consts:[[1,"d-flex","flex-row-reverse","p-2"],["href","javascript:;","fullscreen",""],[3,"icon"],[1,"container-fluid","mt-5"],[1,"text-center","font-weight-bold"],[1,"table"],["scope","col"],["class","table-warning",4,"ngFor","ngForOf"],[1,"table-warning"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"a",1),e._UZ(2,"fa-icon",2),e.qZA(),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div"),e.TgZ(5,"h3",4),e._uU(6," LLEGADA DE CAMIONES "),e.qZA(),e.TgZ(7,"table",5),e.TgZ(8,"thead"),e.TgZ(9,"tr"),e.TgZ(10,"th",6),e._uU(11,"PLACA"),e.qZA(),e.TgZ(12,"th",6),e._uU(13,"CONDUCTOR"),e.qZA(),e.TgZ(14,"th",6),e._uU(15,"HORA DE LLEGADA"),e.qZA(),e.TgZ(16,"th",6),e._uU(17,"HORA DE ESPERA"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,k,9,4,"tr",7),e.qZA(),e.qZA(),e.qZA(),e._UZ(20,"hr"),e.TgZ(21,"div"),e.TgZ(22,"h3",4),e._uU(23," CAMIONES EN DESCARGA "),e.qZA(),e.TgZ(24,"table",5),e.TgZ(25,"thead"),e.TgZ(26,"tr"),e.TgZ(27,"th",6),e._uU(28,"PLACA"),e.qZA(),e.TgZ(29,"th",6),e._uU(30,"CONDUCTOR"),e.qZA(),e.TgZ(31,"th",6),e._uU(32,"MONTACARGUISTA"),e.qZA(),e.TgZ(33,"th",6),e._uU(34,"TIEMPO TRANSCURRIDO"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"tbody"),e.YNc(36,E,9,4,"tr",7),e.qZA(),e.qZA(),e.qZA(),e._UZ(37,"hr"),e.TgZ(38,"div"),e.TgZ(39,"h3",4),e._uU(40," CAMIONES EN CARGA "),e.qZA(),e.TgZ(41,"table",5),e.TgZ(42,"thead"),e.TgZ(43,"tr"),e.TgZ(44,"th",6),e._uU(45,"PLACA"),e.qZA(),e.TgZ(46,"th",6),e._uU(47,"CONDUCTOR"),e.qZA(),e.TgZ(48,"th",6),e._uU(49,"MONTACARGUISTA"),e.qZA(),e.TgZ(50,"th",6),e._uU(51,"TIEMPO TRANSCURRIDO"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"tbody"),e.YNc(53,O,9,4,"tr",7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("icon",e.DdM(4,D)),e.xp6(17),e.Q6J("ngForOf",o.arrivalTrucks),e.xp6(17),e.Q6J("ngForOf",o.trucksUnload),e.xp6(17),e.Q6J("ngForOf",o.loadTrucks))},directives:[q,g.BN,d.sg],styles:[""]}),r})();var _=l(5190),m=l(2382),U=l(1134);function w(r,i){if(1&r&&(e.TgZ(0,"option",5),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.AsE(" ",t.code," - ",t.name," ")}}let N=(()=>{class r{constructor(t,o,s){this.campusService=t,this.fb=o,this.bsModal=s,this.campus=[],this.sede=this.fb.control("")}ngOnInit(){this.getCampus()}getCampus(){this.campusService.getCampusPublic().subscribe(t=>{this.campus=t})}setCampus(t){localStorage.setItem("campus",t.value),this.bsModal.hide()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.j),e.Y36(m.qu),e.Y36(U.UZ))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-campus-modal"]],decls:8,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"form-select","form-select-lg",3,"formControl","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2,"No tiene configurado ninguna CD."),e.qZA(),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"h4"),e._uU(5," Seleccione una CD para continuar: "),e.qZA(),e.TgZ(6,"select",3),e.NdJ("change",function(){return o.setCampus(o.sede)}),e.YNc(7,w,2,3,"option",4),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("formControl",o.sede),e.xp6(1),e.Q6J("ngForOf",o.campus))},directives:[m.EJ,m.JJ,m.oH,d.sg,m.YN,m.Kr],styles:[""]}),r})();var G=l(2340),H=l(520);const{endpoint:x}=G.N;let I=(()=>{class r{constructor(t){this.http=t}getBays(t){return this.http.get(`${x}/public/bays`,{params:t})}getTrucks(t){return this.http.get(`${x}/public/registries`,{params:t})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(H.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var L=l(7028),R=l(1679),P=l(7893);function B(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"h5",23),e._uU(2),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().openModalWithComponent()}),e._uU(4,"Cambiar"),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.AsE("",null==t.sede?null:t.sede.code," - ",null==t.sede?null:t.sede.name,"")}}function J(r,i){if(1&r&&e._UZ(0,"app-timer",34),2&r){const t=e.oxw(3).$implicit;e.Q6J("start",!0)("action","DESCARGANDO...")("startTime",t.registry.unloadStartTime)("maxMin",t.registry.timeUnload)}}function Y(r,i){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,J,1,4,"app-timer",33),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.registry.timeUnload)}}function Q(r,i){if(1&r&&e._UZ(0,"app-timer",34),2&r){const t=e.oxw(3).$implicit;e.Q6J("start",!0)("action","CARGANDO...")("startTime",t.registry.loadStartTime)("maxMin",t.registry.timeLoad)}}function $(r,i){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,Q,1,4,"app-timer",33),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.registry.timeLoad)}}function z(r,i){1&r&&(e.TgZ(0,"div",12),e.TgZ(1,"p",35),e._uU(2,"ESPERANDO VEHICULO"),e.qZA(),e._UZ(3,"app-timer"),e.TgZ(4,"h4",36),e._uU(5,"00:00:00"),e.qZA(),e.qZA())}function j(r,i){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",7),e.TgZ(2,"div",2),e.TgZ(3,"small"),e._uU(4,"Veh\xedculo"),e.qZA(),e.TgZ(5,"h4"),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"div",2),e.TgZ(8,"small"),e._uU(9,"Montacarga"),e.qZA(),e.TgZ(10,"h5"),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,Y,2,1,"div",32),e.YNc(13,$,2,1,"div",32),e.YNc(14,z,6,0,"div",32),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(6),e.Oqu(t.registry.truck.plaque),e.xp6(5),e.Oqu(t.registry.lift.name),e.xp6(1),e.Q6J("ngIf","DESCARGANDO"===t.registry.state),e.xp6(1),e.Q6J("ngIf","CARGANDO"===t.registry.state),e.xp6(1),e.Q6J("ngIf","DESCARGA"===t.registry.state||"CARGA"===t.registry.state)}}function V(r,i){1&r&&(e.TgZ(0,"div",37),e.TgZ(1,"small"),e._uU(2,"Veh\xedculo"),e.qZA(),e.TgZ(3,"h4"),e._uU(4,"-------"),e.qZA(),e.TgZ(5,"small"),e._uU(6,"Estado"),e.qZA(),e.TgZ(7,"h2",38),e.TgZ(8,"small"),e._uU(9,"LIBRE"),e.qZA(),e.qZA(),e._UZ(10,"app-timer"),e.qZA())}const X=function(){return{"background-color":"rgb(95, 255, 95)"}};function W(r,i){if(1&r&&(e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.TgZ(2,"div",27),e.TgZ(3,"h5",28),e._uU(4),e.qZA(),e._UZ(5,"hr",29),e.YNc(6,j,15,5,"div",30),e.YNc(7,V,11,0,"div",31),e.qZA(),e.qZA(),e.qZA()),2&r){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngStyle",t.isFree?e.DdM(4,X):o.colorizeForBay(t)),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Q6J("ngIf",!t.isFree),e.xp6(1),e.Q6J("ngIf",t.isFree)}}function K(r,i){if(1&r&&(e.TgZ(0,"tr",39),e.TgZ(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td",40),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"div",41),e.TgZ(7,"span"),e._uU(8,"*"),e.qZA(),e._uU(9," \xa0 "),e.TgZ(10,"span",42),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"titlecase"),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"td",12),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"td",12),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td",43),e._uU(23),e.qZA(),e.TgZ(24,"td",12),e._uU(25),e.ALo(26,"date"),e.qZA(),e.TgZ(27,"td",12),e._uU(28),e.ALo(29,"date"),e.qZA(),e.TgZ(30,"td",43),e._uU(31),e.qZA(),e.TgZ(32,"td",12),e._uU(33),e.ALo(34,"date"),e.qZA(),e.TgZ(35,"td",12),e._uU(36),e.ALo(37,"date"),e.qZA(),e.TgZ(38,"td",43),e._uU(39),e.qZA(),e.TgZ(40,"td",40),e._uU(41),e.qZA(),e.qZA()),2&r){const t=i.$implicit,o=i.index,s=e.oxw();e.Q6J("ngStyle",s.colorize(t)),e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.truck.type),e.xp6(3),e.Gre("badge rounded-pill ",t.exit?"bg-dark-2":"bg-green-2",""),e.xp6(4),e.hij(" ",t.truck.plaque," "),e.xp6(2),e.AsE("",e.lcZ(14,19,t.driver.firstName)," ",e.lcZ(15,21,t.driver.lastName),""),e.xp6(4),e.Oqu(e.xi3(18,23,t.arrival,"HH:mm")),e.xp6(3),e.Oqu(e.xi3(21,26,t.checkInTime,"HH:mm")),e.xp6(3),e.Oqu(t.arrivalTime),e.xp6(2),e.Oqu(e.xi3(26,29,t.unloadStartTime,"HH:mm")),e.xp6(3),e.Oqu(e.xi3(29,32,t.unloadEndTime,"HH:mm")),e.xp6(3),e.Oqu(t.unloadTime),e.xp6(2),e.Oqu(e.xi3(34,35,t.loadStartTime,"HH:mm")),e.xp6(3),e.Oqu(e.xi3(37,38,t.loadEndTime,"HH:mm")),e.xp6(3),e.Oqu(t.loadTime),e.xp6(2),e.Oqu(s.getTotalTime(t))}}const ee=function(){return["fas","expand"]},te=function(){return["fas","sync-alt"]},re=[{path:"",component:b,children:[{path:"home",component:(()=>{class r{constructor(t,o,s,n,a,T){this.tvAPI=t,this.wsService=o,this.modalService=s,this.campusService=n,this.gm=a,this.truckTypeService=T,this.today=new Date,this.bays=[],this.trucks=[]}ngOnInit(){this.verifyCampus(),this.loadBays(),this.wsService.listen("hello2").subscribe(t=>this.loadBays())}getCampus(){this.campusService.getCampusPublic().subscribe(t=>{this.campus=t,this.sede=this.campus.find(o=>o.code===this.currentSede)})}verifyCampus(){this.getCampus(),localStorage.getItem("campus")?this.currentSede=localStorage.getItem("campus"):this.openModalWithComponent()}openModalWithComponent(){this.sede="",this.bays=[],this.trucks=[],this.modalService.show(N,{class:"modal-dialog-centered modal-md",keyboard:!1,backdrop:"static",initialState:{}}),this.modalService.onHide.subscribe(o=>{this.verifyCampus(),this.loadBays()})}loadBays(){this.tvAPI.getBays({campus:this.currentSede}).subscribe(o=>{this.loadTrucks(),this.bays=o.map(n=>{var a;return n.isFree=!n.unload,n.unload&&"DESCARGADO"===n.unload.state&&(n.isFree=!0),n.isFree&&(n.isFree=!n.load,n.load&&"CARGADO"===n.load.state&&(n.isFree=!0)),n.isFree||(n.unload?(n.registry=n.unload,n.startTime=n.unload.unloadStartTime):(n.registry=n.load,n.startTime=n.load.loadStartTime),n.registry.lift=(null===(a=n.unload)||void 0===a?void 0:a.unloadLift)?n.unload.unloadLift:n.load.loadLift),n}),this.bays.map(n=>{this.getTimeByTrucktypeForBay(n),this.calculateTimeForBay(n)});const s=setInterval(()=>{this.bays.map(n=>{this.getTimeByTrucktypeForBay(n),this.calculateTimeForBay(n)})},1e3);this.bays.every(n=>n.isFree)&&clearInterval(s)})}loadTrucks(){this.tvAPI.getTrucks({campus:this.currentSede}).subscribe(o=>{this.trucks=o,this.trucks.map(n=>{this.getTotalTime(n)});const s=setInterval(()=>{this.trucks.map(n=>{this.getTotalTime(n)})},1e3);this.trucks.every(n=>"CARGADO"===n.state||"DESCARGADO"===n.state||"SALIDA"===n.state)&&clearInterval(s),console.log(this.trucks)})}diff(t,o){const s=new Date(o).getTime(),a=new Date(t).getTime()-s;return this.gm.convertMsToHM(a)}getTotalTime(t){const o=new Date(t.arrival).getTime()||0,s="LLEGADA"===t.state?(new Date).getTime():new Date(t.checkInTime).getTime()||0,n=new Date(t.unloadStartTime).getTime()||0,a="DESCARGANDO"===t.state?(new Date).getTime():new Date(t.unloadEndTime).getTime()||0,T=new Date(t.loadStartTime).getTime()||0,S=s-o,F=a-n,y=("CARGANDO"===t.state?(new Date).getTime():new Date(t.loadEndTime).getTime()||0)-T;return t.arrivalTime=this.gm.convertMsToHM(S)||"00:00",t.unloadTime=this.gm.convertMsToHM(F)||"00:00",t.loadTime=this.gm.convertMsToHM(y)||"00:00",t.total=S+F+y,this.gm.convertMsToHM(t.total)||"00:00:00"}getTimeByTrucktypeForBay(t){t.registry&&this.truckTypeService.publicRetrieve(t.registry.truck.type).subscribe(o=>{t.registry.timeUnload=o.maxTimeUnload,t.registry.timeLoad=o.maxTimeLoad,this.convertHoursToMsForBay(t)})}calculateTimeForBay(t){if(t.registry){const o=new Date(t.registry.unloadStartTime).getTime(),s=new Date(t.registry.unloadEndTime).getTime()||(new Date).getTime(),n=new Date(t.registry.loadStartTime).getTime(),a=new Date(t.registry.loadEndTime).getTime()||(new Date).getTime();t.registry.unloadGap=s-o||0,t.registry.loadGap=a-n||0,t.registry.currentUnloadTime=this.gm.convertMsToTime(t.registry.unloadGap),t.registry.currentLoadTime=this.gm.convertMsToTime(t.registry.loadGap)}}convertHoursToMsForBay(t){t.registry&&(t.registry.timeUnload?t.registry.timeLoad||(t.registry.msTimeLoad=0):t.registry.msTimeUnload=0,t.registry.msTimeLoad=this.gm.convertMinutesToMs(t.registry.timeLoad),t.registry.msTimeLoadGreen=Math.round(.9*t.registry.msTimeLoad),t.registry.msTimeUnload=this.gm.convertMinutesToMs(t.registry.timeUnload),t.registry.msTimeUnloadGreen=Math.round(.9*t.registry.msTimeUnload))}colorize(t){const o=this.gm.convertMinutesToMs(this.sede?this.sede.goalControl:0),s=Math.round(.9*o),{total:n}=t;return n>0&&n<s?{"background-color":"#c9f1c6",color:"#000"}:n>=s&&n<o?{"background-color":"#f2f2b1",color:"#000"}:n>=o?{"background-color":"#ffb3c8",color:"#000"}:{"background-color":"#fff",color:"#000"}}colorizeForBay(t){return t.registry&&"CARGANDO"===t.registry.state?t.registry.loadGap>0&&t.registry.loadGap<t.registry.msTimeLoadGreen?{"background-color":"#c9f1c6",color:"#000"}:t.registry.loadGap>=t.registry.msTimeLoadGreen&&t.registry.loadGap<t.registry.msTimeLoad?{"background-color":"#f2f2b1",color:"#000"}:t.registry.loadGap>=t.registry.msTimeLoad?{"background-color":"#ffb3c8",color:"#000"}:{"background-color":"#fff",color:"#000"}:t.registry&&"DESCARGANDO"===t.registry.state?t.registry.unloadGap>0&&t.registry.unloadGap<t.registry.msTimeUnloadGreen?{"background-color":"#c9f1c6",color:"#000"}:t.registry.unloadGap>=t.registry.msTimeUnloadGreen&&t.registry.unloadGap<t.registry.msTimeUnload?{"background-color":"#f2f2b1",color:"#000"}:t.registry.unloadGap>=t.registry.msTimeUnload?{"background-color":"#ffb3c8",color:"#000"}:{"background-color":"#fff",color:"#000"}:{"background-color":"#fff",color:"#000"}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I),e.Y36(f.i),e.Y36(U.tT),e.Y36(_.j),e.Y36(L.t),e.Y36(R.H))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:72,vars:12,consts:[[1,"container-fluid","mt-3"],[1,"row","mb-3"],[1,"col"],["class","d-flex align-items-center justify-content-center gap-2",4,"ngIf"],[1,"col","text-end"],["href","javascript:;","fullscreen","",1,"btn","btn-outline-warning"],[3,"icon"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-dark","float-end","btn-rounded","me-2",3,"click"],[1,"table-responsive","mt-4"],[1,"table"],[1,"text-center"],["colspan","3",2,"background-color","#deefff"],["colspan","3",2,"background-color","#eddfec"],["colspan","3",2,"background-color","#e0f8f8"],[2,"width","50px"],[2,"min-width","8em"],[1,"text-center",2,"background-color","#deefff"],[1,"text-center",2,"background-color","#eddfec"],[1,"text-center",2,"background-color","#e0f8f8"],["class","align-middle",3,"ngStyle",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],[1,"mb-0"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"col-md-3"],[1,"card","mb-3",3,"ngStyle"],[1,"card-body"],[1,"card-title"],[1,"m-0"],[4,"ngIf"],["class","text-center text-success",4,"ngIf"],["class","text-center",4,"ngIf"],[3,"start","action","startTime","maxMin",4,"ngIf"],[3,"start","action","startTime","maxMin"],[1,"text-danger","mb-1"],[1,"text-danger","fw-bold"],[1,"text-center","text-success"],[1,"text-muted"],[1,"align-middle",3,"ngStyle"],[1,"text-center","fw-bold"],[1,"d-flex","align-items-center"],[1,"fw-bold"],[1,"bg-secondary","text-white","text-center","fw-bold"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h4"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.YNc(7,B,5,2,"div",3),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"a",5),e._UZ(10,"fa-icon",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.YNc(12,W,8,5,"div",8),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return o.loadBays()}),e._UZ(14,"fa-icon",6),e.qZA(),e.TgZ(15,"h5"),e._uU(16),e.qZA(),e.TgZ(17,"div",10),e.TgZ(18,"table",11),e.TgZ(19,"thead"),e.TgZ(20,"tr",12),e._UZ(21,"th"),e._UZ(22,"th"),e._UZ(23,"th"),e._UZ(24,"th"),e.TgZ(25,"th",13),e._uU(26,"Llegada / Ingreso"),e.qZA(),e.TgZ(27,"th",14),e._uU(28,"Descarga"),e.qZA(),e.TgZ(29,"th",15),e._uU(30,"Carga"),e.qZA(),e._UZ(31,"th"),e.qZA(),e.TgZ(32,"tr"),e.TgZ(33,"th"),e._uU(34,"#"),e.qZA(),e.TgZ(35,"th",16),e._uU(36,"Tipo"),e.qZA(),e.TgZ(37,"th",17),e._uU(38,"Veh\xedculo"),e.qZA(),e.TgZ(39,"th",17),e._uU(40,"Conductor"),e.qZA(),e.TgZ(41,"th",18),e.TgZ(42,"small"),e._uU(43,"Hora llegada"),e.qZA(),e.qZA(),e.TgZ(44,"th",18),e.TgZ(45,"small"),e._uU(46,"Hora Ingreso"),e.qZA(),e.qZA(),e.TgZ(47,"th",18),e.TgZ(48,"small"),e._uU(49,"Tiempo"),e.qZA(),e.qZA(),e.TgZ(50,"th",19),e.TgZ(51,"small"),e._uU(52,"Inicio"),e.qZA(),e.qZA(),e.TgZ(53,"th",19),e.TgZ(54,"small"),e._uU(55,"Fin"),e.qZA(),e.qZA(),e.TgZ(56,"th",19),e.TgZ(57,"small"),e._uU(58,"Tiempo"),e.qZA(),e.qZA(),e.TgZ(59,"th",20),e.TgZ(60,"small"),e._uU(61,"Inicio"),e.qZA(),e.qZA(),e.TgZ(62,"th",20),e.TgZ(63,"small"),e._uU(64,"Fin"),e.qZA(),e.qZA(),e.TgZ(65,"th",20),e.TgZ(66,"small"),e._uU(67,"Tiempo"),e.qZA(),e.qZA(),e.TgZ(68,"th",12),e._uU(69,"Tiempo total"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"tbody"),e.YNc(71,K,42,41,"tr",21),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.xi3(5,7,o.today,"dd/MM/yyyy")),e.xp6(3),e.Q6J("ngIf",o.sede),e.xp6(3),e.Q6J("icon",e.DdM(10,ee)),e.xp6(2),e.Q6J("ngForOf",o.bays),e.xp6(2),e.Q6J("icon",e.DdM(11,te)),e.xp6(2),e.hij("",o.trucks.length," Camiones en cola"),e.xp6(55),e.Q6J("ngForOf",o.trucks))},directives:[d.O5,q,g.BN,d.sg,d.PC,P.K],pipes:[d.uU,d.rS],styles:[".bg-success-1[_ngcontent-%COMP%]{background-color:#5fff5f}"]}),r})()},{path:"tv",component:M},{path:"",redirectTo:"home",pathMatch:"full"}]}];let ne=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(re)],Z.Bz]}),r})();var oe=l(6802),C=l(801);let ie=(()=>{class r{constructor(t){t.addIcons(C.TL5,C.d8e)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(g.by))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[d.ez,ne,oe.m,g.uH,m.UX]]}),r})()}}]);