(self.webpackChunksocket_pwa=self.webpackChunksocket_pwa||[]).push([[990],{5876:(Z,i,a)=>{const t=a(532),e=a(7554),c=a(179),r=a(1036);function o(l,f,h,M,T){const d=[].slice.call(arguments,1),g=d.length,z="function"==typeof d[g-1];if(!z&&!t())throw new Error("Callback required as last argument");if(!z){if(g<1)throw new Error("Too few arguments provided");return 1===g?(h=f,f=M=void 0):2===g&&!f.getContext&&(M=h,h=f,f=void 0),new Promise(function(E,R){try{const w=e.create(h,M);E(l(w,f,M))}catch(w){R(w)}})}if(g<2)throw new Error("Too few arguments provided");2===g?(T=h,h=f,f=M=void 0):3===g&&(f.getContext&&void 0===T?(T=M,M=void 0):(T=M,M=h,h=f,f=void 0));try{const E=e.create(h,M);T(null,l(E,f,M))}catch(E){T(E)}}i.rT=o.bind(null,c.render),i.hz=o.bind(null,c.renderToDataURL),i.toString=o.bind(null,function(l,f,h){return r.render(l,h)})},532:Z=>{Z.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(Z,i,a)=>{const n=a(4860).getSymbolSize;i.getRowColCoords=function(e){if(1===e)return[];const c=Math.floor(e/7)+2,r=n(e),o=145===r?26:2*Math.ceil((r-13)/(2*c-2)),l=[r-7];for(let f=1;f<c-1;f++)l[f]=l[f-1]-o;return l.push(6),l.reverse()},i.getPositions=function(e){const c=[],r=i.getRowColCoords(e),o=r.length;for(let l=0;l<o;l++)for(let f=0;f<o;f++)0===l&&0===f||0===l&&f===o-1||l===o-1&&0===f||c.push([r[l],r[f]]);return c}},812:(Z,i,a)=>{const n=a(6906),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(c){this.mode=n.ALPHANUMERIC,this.data=c}e.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let o;for(o=0;o+2<=this.data.length;o+=2){let l=45*t.indexOf(this.data[o]);l+=t.indexOf(this.data[o+1]),r.put(l,11)}this.data.length%2&&r.put(t.indexOf(this.data[o]),6)},Z.exports=e},3044:Z=>{function i(){this.buffer=[],this.length=0}i.prototype={get:function(a){const n=Math.floor(a/8);return 1==(this.buffer[n]>>>7-a%8&1)},put:function(a,n){for(let t=0;t<n;t++)this.putBit(1==(a>>>n-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),a&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Z.exports=i},1973:Z=>{function i(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}i.prototype.set=function(a,n,t,e){const c=a*this.size+n;this.data[c]=t,e&&(this.reservedBit[c]=!0)},i.prototype.get=function(a,n){return this.data[a*this.size+n]},i.prototype.xor=function(a,n,t){this.data[a*this.size+n]^=t},i.prototype.isReserved=function(a,n){return this.reservedBit[a*this.size+n]},Z.exports=i},1824:(Z,i,a)=>{const n=a(8419),t=a(6906);function e(c){this.mode=t.BYTE,this.data=new Uint8Array(n(c))}e.getBitsLength=function(r){return 8*r},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(c){for(let r=0,o=this.data.length;r<o;r++)c.put(this.data[r],8)},Z.exports=e},6194:(Z,i,a)=>{const n=a(9020),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];i.getBlocksCount=function(r,o){switch(o){case n.L:return t[4*(r-1)+0];case n.M:return t[4*(r-1)+1];case n.Q:return t[4*(r-1)+2];case n.H:return t[4*(r-1)+3];default:return}},i.getTotalCodewordsCount=function(r,o){switch(o){case n.L:return e[4*(r-1)+0];case n.M:return e[4*(r-1)+1];case n.Q:return e[4*(r-1)+2];case n.H:return e[4*(r-1)+3];default:return}}},9020:(Z,i)=>{i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2},i.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},i.from=function(t,e){if(i.isValid(t))return t;try{return function a(n){if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+n)}}(t)}catch(c){return e}}},9172:(Z,i,a)=>{const n=a(4860).getSymbolSize;i.getPositions=function(c){const r=n(c);return[[0,0],[r-7,0],[0,r-7]]}},611:(Z,i,a)=>{const n=a(4860),c=n.getBCHDigit(1335);i.getEncodedBits=function(o,l){const f=o.bit<<3|l;let h=f<<10;for(;n.getBCHDigit(h)-c>=0;)h^=1335<<n.getBCHDigit(h)-c;return 21522^(f<<10|h)}},7794:(Z,i)=>{const a=new Uint8Array(512),n=new Uint8Array(256);(function(){let e=1;for(let c=0;c<255;c++)a[c]=e,n[e]=c,e<<=1,256&e&&(e^=285);for(let c=255;c<512;c++)a[c]=a[c-255]})(),i.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},i.exp=function(e){return a[e]},i.mul=function(e,c){return 0===e||0===c?0:a[n[e]+n[c]]}},8043:(Z,i,a)=>{const n=a(6906),t=a(4860);function e(c){this.mode=n.KANJI,this.data=c}e.getBitsLength=function(r){return 13*r},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(c){let r;for(r=0;r<this.data.length;r++){let o=t.toSJIS(this.data[r]);if(o>=33088&&o<=40956)o-=33088;else{if(!(o>=57408&&o<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");o-=49472}o=192*(o>>>8&255)+(255&o),c.put(o,13)}},Z.exports=e},7135:(Z,i)=>{i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(t,e,c){switch(t){case i.Patterns.PATTERN000:return(e+c)%2==0;case i.Patterns.PATTERN001:return e%2==0;case i.Patterns.PATTERN010:return c%3==0;case i.Patterns.PATTERN011:return(e+c)%3==0;case i.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(c/3))%2==0;case i.Patterns.PATTERN101:return e*c%2+e*c%3==0;case i.Patterns.PATTERN110:return(e*c%2+e*c%3)%2==0;case i.Patterns.PATTERN111:return(e*c%3+(e+c)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}i.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){const c=e.size;let r=0,o=0,l=0,f=null,h=null;for(let M=0;M<c;M++){o=l=0,f=h=null;for(let T=0;T<c;T++){let d=e.get(M,T);d===f?o++:(o>=5&&(r+=o-5+3),f=d,o=1),d=e.get(T,M),d===h?l++:(l>=5&&(r+=l-5+3),h=d,l=1)}o>=5&&(r+=o-5+3),l>=5&&(r+=l-5+3)}return r},i.getPenaltyN2=function(e){const c=e.size;let r=0;for(let o=0;o<c-1;o++)for(let l=0;l<c-1;l++){const f=e.get(o,l)+e.get(o,l+1)+e.get(o+1,l)+e.get(o+1,l+1);(4===f||0===f)&&r++}return 3*r},i.getPenaltyN3=function(e){const c=e.size;let r=0,o=0,l=0;for(let f=0;f<c;f++){o=l=0;for(let h=0;h<c;h++)o=o<<1&2047|e.get(f,h),h>=10&&(1488===o||93===o)&&r++,l=l<<1&2047|e.get(h,f),h>=10&&(1488===l||93===l)&&r++}return 40*r},i.getPenaltyN4=function(e){let c=0;const r=e.data.length;for(let l=0;l<r;l++)c+=e.data[l];return 10*Math.abs(Math.ceil(100*c/r/5)-10)},i.applyMask=function(e,c){const r=c.size;for(let o=0;o<r;o++)for(let l=0;l<r;l++)c.isReserved(l,o)||c.xor(l,o,n(e,l,o))},i.getBestMask=function(e,c){const r=Object.keys(i.Patterns).length;let o=0,l=1/0;for(let f=0;f<r;f++){c(f),i.applyMask(f,e);const h=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(f,e),h<l&&(l=h,o=f)}return o}},6906:(Z,i,a)=>{const n=a(2316),t=a(4677);i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(r,o){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!n.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?r.ccBits[0]:o<27?r.ccBits[1]:r.ccBits[2]},i.getBestModeForData=function(r){return t.testNumeric(r)?i.NUMERIC:t.testAlphanumeric(r)?i.ALPHANUMERIC:t.testKanji(r)?i.KANJI:i.BYTE},i.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},i.isValid=function(r){return r&&r.bit&&r.ccBits},i.from=function(r,o){if(i.isValid(r))return r;try{return function e(c){if("string"!=typeof c)throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+c)}}(r)}catch(l){return o}}},6002:(Z,i,a)=>{const n=a(6906);function t(e){this.mode=n.NUMERIC,this.data=e.toString()}t.getBitsLength=function(c){return 10*Math.floor(c/3)+(c%3?c%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(c){let r,o,l;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),l=parseInt(o,10),c.put(l,10);const f=this.data.length-r;f>0&&(o=this.data.substr(r),l=parseInt(o,10),c.put(l,3*f+1))},Z.exports=t},7793:(Z,i,a)=>{const n=a(7794);i.mul=function(e,c){const r=new Uint8Array(e.length+c.length-1);for(let o=0;o<e.length;o++)for(let l=0;l<c.length;l++)r[o+l]^=n.mul(e[o],c[l]);return r},i.mod=function(e,c){let r=new Uint8Array(e);for(;r.length-c.length>=0;){const o=r[0];for(let f=0;f<c.length;f++)r[f]^=n.mul(c[f],o);let l=0;for(;l<r.length&&0===r[l];)l++;r=r.slice(l)}return r},i.generateECPolynomial=function(e){let c=new Uint8Array([1]);for(let r=0;r<e;r++)c=i.mul(c,new Uint8Array([1,n.exp(r)]));return c}},7554:(Z,i,a)=>{const n=a(4860),t=a(9020),e=a(3044),c=a(1973),r=a(3012),o=a(9172),l=a(7135),f=a(6194),h=a(8098),M=a(6602),T=a(611),d=a(6906),g=a(9465);function x(p,S,H){const v=p.size,y=T.getEncodedBits(S,H);let V,C;for(V=0;V<15;V++)C=1==(y>>V&1),p.set(V<6?V:V<8?V+1:v-15+V,8,C,!0),p.set(8,V<8?v-V-1:V<9?15-V-1+1:15-V-1,C,!0);p.set(v-8,8,1,!0)}function F(p,S,H,v){let y;if(Array.isArray(p))y=g.fromArray(p);else{if("string"!=typeof p)throw new Error("Invalid data");{let P=S;if(!P){const Q=g.rawSplit(p);P=M.getBestVersionForData(Q,H)}y=g.fromString(p,P||40)}}const V=M.getBestVersionForData(y,H);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(S){if(S<V)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+V+".\n")}else S=V;const C=function A(p,S,H){const v=new e;H.forEach(function(b){v.put(b.mode.bit,4),v.put(b.getLength(),d.getCharCountIndicator(b.mode,p)),b.write(v)});const C=8*(n.getSymbolTotalCodewords(p)-f.getTotalCodewordsCount(p,S));for(v.getLengthInBits()+4<=C&&v.put(0,4);v.getLengthInBits()%8!=0;)v.putBit(0);const L=(C-v.getLengthInBits())/8;for(let b=0;b<L;b++)v.put(b%2?17:236,8);return function U(p,S,H){const v=n.getSymbolTotalCodewords(S),V=v-f.getTotalCodewordsCount(S,H),C=f.getBlocksCount(S,H),b=C-v%C,P=Math.floor(v/C),Q=Math.floor(V/C),e1=Q+1,K=P-Q,c1=new h(K);let Y=0;const G=new Array(C),W=new Array(C);let O=0;const t1=new Uint8Array(p.buffer);for(let _=0;_<C;_++){const X=_<b?Q:e1;G[_]=t1.slice(Y,Y+X),W[_]=c1.encode(G[_]),Y+=X,O=Math.max(O,X)}const j=new Uint8Array(v);let k,I,$=0;for(k=0;k<O;k++)for(I=0;I<C;I++)k<G[I].length&&(j[$++]=G[I][k]);for(k=0;k<K;k++)for(I=0;I<C;I++)j[$++]=W[I][k];return j}(v,p,S)}(S,H,y),L=n.getSymbolSize(S),b=new c(L);return function z(p,S){const H=p.size,v=o.getPositions(S);for(let y=0;y<v.length;y++){const V=v[y][0],C=v[y][1];for(let L=-1;L<=7;L++)if(!(V+L<=-1||H<=V+L))for(let b=-1;b<=7;b++)C+b<=-1||H<=C+b||p.set(V+L,C+b,L>=0&&L<=6&&(0===b||6===b)||b>=0&&b<=6&&(0===L||6===L)||L>=2&&L<=4&&b>=2&&b<=4,!0)}}(b,S),function E(p){const S=p.size;for(let H=8;H<S-8;H++){const v=H%2==0;p.set(H,6,v,!0),p.set(6,H,v,!0)}}(b),function R(p,S){const H=r.getPositions(S);for(let v=0;v<H.length;v++){const y=H[v][0],V=H[v][1];for(let C=-2;C<=2;C++)for(let L=-2;L<=2;L++)p.set(y+C,V+L,-2===C||2===C||-2===L||2===L||0===C&&0===L,!0)}}(b,S),x(b,H,0),S>=7&&function w(p,S){const H=p.size,v=M.getEncodedBits(S);let y,V,C;for(let L=0;L<18;L++)y=Math.floor(L/3),V=L%3+H-8-3,C=1==(v>>L&1),p.set(y,V,C,!0),p.set(V,y,C,!0)}(b,S),function N(p,S){const H=p.size;let v=-1,y=H-1,V=7,C=0;for(let L=H-1;L>0;L-=2)for(6===L&&L--;;){for(let b=0;b<2;b++)if(!p.isReserved(y,L-b)){let P=!1;C<S.length&&(P=1==(S[C]>>>V&1)),p.set(y,L-b,P),V--,-1===V&&(C++,V=7)}if(y+=v,y<0||H<=y){y-=v,v=-v;break}}}(b,C),isNaN(v)&&(v=l.getBestMask(b,x.bind(null,b,H))),l.applyMask(v,b),x(b,H,v),{modules:b,version:S,errorCorrectionLevel:H,maskPattern:v,segments:y}}i.create=function(S,H){if(void 0===S||""===S)throw new Error("No input text");let y,V,v=t.M;return void 0!==H&&(v=t.from(H.errorCorrectionLevel,t.M),y=M.from(H.version),V=l.from(H.maskPattern),H.toSJISFunc&&n.setToSJISFunction(H.toSJISFunc)),F(S,y,v,V)}},8098:(Z,i,a)=>{const n=a(7793);function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(c){this.degree=c,this.genPoly=n.generateECPolynomial(this.degree)},t.prototype.encode=function(c){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(c.length+this.degree);r.set(c);const o=n.mod(r,this.genPoly),l=this.degree-o.length;if(l>0){const f=new Uint8Array(this.degree);return f.set(o,l),f}return o},Z.exports=t},4677:(Z,i)=>{const a="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";i.KANJI=new RegExp(t,"g"),i.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),i.BYTE=new RegExp(e,"g"),i.NUMERIC=new RegExp(a,"g"),i.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const c=new RegExp("^"+t+"$"),r=new RegExp("^"+a+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");i.testKanji=function(f){return c.test(f)},i.testNumeric=function(f){return r.test(f)},i.testAlphanumeric=function(f){return o.test(f)}},9465:(Z,i,a)=>{const n=a(6906),t=a(6002),e=a(812),c=a(1824),r=a(8043),o=a(4677),l=a(4860),f=a(4901);function h(w){return unescape(encodeURIComponent(w)).length}function M(w,x,N){const A=[];let U;for(;null!==(U=w.exec(N));)A.push({data:U[0],index:U.index,mode:x,length:U[0].length});return A}function T(w){const x=M(o.NUMERIC,n.NUMERIC,w),N=M(o.ALPHANUMERIC,n.ALPHANUMERIC,w);let A,U;return l.isKanjiModeEnabled()?(A=M(o.BYTE,n.BYTE,w),U=M(o.KANJI,n.KANJI,w)):(A=M(o.BYTE_KANJI,n.BYTE,w),U=[]),x.concat(N,A,U).sort(function(p,S){return p.index-S.index}).map(function(p){return{data:p.data,mode:p.mode,length:p.length}})}function d(w,x){switch(x){case n.NUMERIC:return t.getBitsLength(w);case n.ALPHANUMERIC:return e.getBitsLength(w);case n.KANJI:return r.getBitsLength(w);case n.BYTE:return c.getBitsLength(w)}}function R(w,x){let N;const A=n.getBestModeForData(w);if(N=n.from(x,A),N!==n.BYTE&&N.bit<A.bit)throw new Error('"'+w+'" cannot be encoded with mode '+n.toString(N)+".\n Suggested mode is: "+n.toString(A));switch(N===n.KANJI&&!l.isKanjiModeEnabled()&&(N=n.BYTE),N){case n.NUMERIC:return new t(w);case n.ALPHANUMERIC:return new e(w);case n.KANJI:return new r(w);case n.BYTE:return new c(w)}}i.fromArray=function(x){return x.reduce(function(N,A){return"string"==typeof A?N.push(R(A,null)):A.data&&N.push(R(A.data,A.mode)),N},[])},i.fromString=function(x,N){const U=function z(w){const x=[];for(let N=0;N<w.length;N++){const A=w[N];switch(A.mode){case n.NUMERIC:x.push([A,{data:A.data,mode:n.ALPHANUMERIC,length:A.length},{data:A.data,mode:n.BYTE,length:A.length}]);break;case n.ALPHANUMERIC:x.push([A,{data:A.data,mode:n.BYTE,length:A.length}]);break;case n.KANJI:x.push([A,{data:A.data,mode:n.BYTE,length:h(A.data)}]);break;case n.BYTE:x.push([{data:A.data,mode:n.BYTE,length:h(A.data)}])}}return x}(T(x,l.isKanjiModeEnabled())),F=function E(w,x){const N={},A={start:{}};let U=["start"];for(let F=0;F<w.length;F++){const p=w[F],S=[];for(let H=0;H<p.length;H++){const v=p[H],y=""+F+H;S.push(y),N[y]={node:v,lastCount:0},A[y]={};for(let V=0;V<U.length;V++){const C=U[V];N[C]&&N[C].node.mode===v.mode?(A[C][y]=d(N[C].lastCount+v.length,v.mode)-d(N[C].lastCount,v.mode),N[C].lastCount+=v.length):(N[C]&&(N[C].lastCount=v.length),A[C][y]=d(v.length,v.mode)+4+n.getCharCountIndicator(v.mode,x))}}U=S}for(let F=0;F<U.length;F++)A[U[F]].end=0;return{map:A,table:N}}(U,N),p=f.find_path(F.map,"start","end"),S=[];for(let H=1;H<p.length-1;H++)S.push(F.table[p[H]].node);return i.fromArray(function g(w){return w.reduce(function(x,N){const A=x.length-1>=0?x[x.length-1]:null;return A&&A.mode===N.mode?(x[x.length-1].data+=N.data,x):(x.push(N),x)},[])}(S))},i.rawSplit=function(x){return i.fromArray(T(x,l.isKanjiModeEnabled()))}},4860:(Z,i)=>{let a;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];i.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},i.getSymbolTotalCodewords=function(e){return n[e]},i.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},i.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');a=e},i.isKanjiModeEnabled=function(){return void 0!==a},i.toSJIS=function(e){return a(e)}},2316:(Z,i)=>{i.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}},6602:(Z,i,a)=>{const n=a(4860),t=a(6194),e=a(9020),c=a(6906),r=a(2316),l=n.getBCHDigit(7973);function h(d,g){return c.getCharCountIndicator(d,g)+4}function M(d,g){let z=0;return d.forEach(function(E){z+=h(E.mode,g)+E.getBitsLength()}),z}i.from=function(g,z){return r.isValid(g)?parseInt(g,10):z},i.getCapacity=function(g,z,E){if(!r.isValid(g))throw new Error("Invalid QR Code version");void 0===E&&(E=c.BYTE);const x=8*(n.getSymbolTotalCodewords(g)-t.getTotalCodewordsCount(g,z));if(E===c.MIXED)return x;const N=x-h(E,g);switch(E){case c.NUMERIC:return Math.floor(N/10*3);case c.ALPHANUMERIC:return Math.floor(N/11*2);case c.KANJI:return Math.floor(N/13);default:return Math.floor(N/8)}},i.getBestVersionForData=function(g,z){let E;const R=e.from(z,e.M);if(Array.isArray(g)){if(g.length>1)return function T(d,g){for(let z=1;z<=40;z++)if(M(d,z)<=i.getCapacity(z,g,c.MIXED))return z}(g,R);if(0===g.length)return 1;E=g[0]}else E=g;return function f(d,g,z){for(let E=1;E<=40;E++)if(g<=i.getCapacity(E,z,d))return E}(E.mode,E.getLength(),R)},i.getEncodedBits=function(g){if(!r.isValid(g)||g<7)throw new Error("Invalid QR Code version");let z=g<<12;for(;n.getBCHDigit(z)-l>=0;)z^=7973<<n.getBCHDigit(z)-l;return g<<12|z}},179:(Z,i,a)=>{const n=a(714);i.render=function(r,o,l){let f=l,h=o;void 0===f&&(!o||!o.getContext)&&(f=o,o=void 0),o||(h=function e(){try{return document.createElement("canvas")}catch(c){throw new Error("You need to specify a canvas element")}}()),f=n.getOptions(f);const M=n.getImageWidth(r.modules.size,f),T=h.getContext("2d"),d=T.createImageData(M,M);return n.qrToImageData(d.data,r,f),function t(c,r,o){c.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}(T,h,M),T.putImageData(d,0,0),h},i.renderToDataURL=function(r,o,l){let f=l;return void 0===f&&(!o||!o.getContext)&&(f=o,o=void 0),f||(f={}),i.render(r,o,f).toDataURL(f.type||"image/png",(f.rendererOpts||{}).quality)}},1036:(Z,i,a)=>{const n=a(714);function t(r,o){const l=r.a/255,f=o+'="'+r.hex+'"';return l<1?f+" "+o+'-opacity="'+l.toFixed(2).slice(1)+'"':f}function e(r,o,l){let f=r+o;return void 0!==l&&(f+=" "+l),f}i.render=function(o,l,f){const h=n.getOptions(l),M=o.modules.size,T=o.modules.data,d=M+2*h.margin,g=h.color.light.a?"<path "+t(h.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",z="<path "+t(h.color.dark,"stroke")+' d="'+function c(r,o,l){let f="",h=0,M=!1,T=0;for(let d=0;d<r.length;d++){const g=Math.floor(d%o),z=Math.floor(d/o);!g&&!M&&(M=!0),r[d]?(T++,d>0&&g>0&&r[d-1]||(f+=M?e("M",g+l,.5+z+l):e("m",h,0),h=0,M=!1),g+1<o&&r[d+1]||(f+=e("h",T),T=0)):h++}return f}(T,M,h.margin)+'"/>',w='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+'viewBox="0 0 '+d+" "+d+'" shape-rendering="crispEdges">'+g+z+"</svg>\n";return"function"==typeof f&&f(null,w),w}},714:(Z,i)=>{function a(n){if("number"==typeof n&&(n=n.toString()),"string"!=typeof n)throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+n);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(c){return[c,c]}))),6===t.length&&t.push("F","F");const e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}i.getOptions=function(t){t||(t={}),t.color||(t.color={});const c=t.width&&t.width>=21?t.width:void 0;return{width:c,scale:c?4:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:a(t.color.dark||"#000000ff"),light:a(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},i.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},i.getImageWidth=function(t,e){const c=i.getScale(t,e);return Math.floor((t+2*e.margin)*c)},i.qrToImageData=function(t,e,c){const r=e.modules.size,o=e.modules.data,l=i.getScale(r,c),f=Math.floor((r+2*c.margin)*l),h=c.margin*l,M=[c.color.light,c.color.dark];for(let T=0;T<f;T++)for(let d=0;d<f;d++){let g=4*(T*f+d),z=c.color.light;T>=h&&d>=h&&T<f-h&&d<f-h&&(z=M[o[Math.floor((T-h)/l)*r+Math.floor((d-h)/l)]?1:0]),t[g++]=z.r,t[g++]=z.g,t[g++]=z.b,t[g]=z.a}}},990:(Z,i,a)=>{"use strict";a.r(i),a.d(i,{DriverModule:()=>Y4});var n=a(9808),t=a(9539),e=a(5e3),c=a(2340),r=a(520);const{endpoint:o}=c.N,l=`${o}/control`;let f=(()=>{class u{constructor(s){this.http=s}getFornow(){return this.http.get(`${l}/registry/fornow`)}getInitial(){return this.http.get(`${l}/registry/initial`)}createTruck(s){return this.http.post(`${l}/truck/create`,s)}updateTruck(s,m){return this.http.put(`${l}/truck/${m}/update`,s)}searchPlaque(s){return this.http.get(`${l}/truck/search?plaque=${s}`)}registry(s){return this.http.post(`${l}/registry/create`,s)}getQr(s){return this.http.get(`${l}/registry/${s}/retrieve`)}listTruckTypes(){return this.http.get(`${l}/truck-type/list`)}}return u.\u0275fac=function(s){return new(s||u)(e.LFG(r.eN))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var h=a(9444);const M=function(){return["fas","home"]},T=function(){return["fas","check-square"]},d=function(){return["far","square"]};let g=(()=>{class u{constructor(s,m){this.driverService=s,this.router=m}ngOnInit(){this.getFornow()}getFornow(){this.driverService.getFornow().subscribe(s=>{console.log(s),s||this.router.navigateByUrl("/admin/driver/register-vehicle")})}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(f),e.Y36(t.F0))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-process-vehicle"]],decls:82,vars:14,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"icon"],[1,"d-flex","bd-highlight","mb-2"],[1,"p-2","flex-grow-1","bd-highlight"],[1,"p-2","bd-highlight"],[1,"progress","mb-3"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-secondary",2,"width","25%"],[1,"list-group"],[1,"list-group-item"],[1,"d-flex","bd-highlight"],[1,"flex-grow-1","bd-highlight"],[1,"ms-3"],[1,"bd-highlight"],["size","2x",1,"text-success",3,"icon"],["size","2x",3,"icon"]],template:function(s,m){1&s&&(e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e._UZ(3,"fa-icon",3),e._uU(4," Inicio "),e.qZA(),e.qZA(),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8,"Veh\xedculo: YDS-456"),e.qZA(),e.TgZ(9,"div",6),e._uU(10," 25 Ene, 2022 "),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"div",8),e.qZA(),e.TgZ(13,"ul",9),e.TgZ(14,"li",10),e.TgZ(15,"div",11),e.TgZ(16,"div",12),e.TgZ(17,"strong"),e._uU(18,"1. Registro de llegada"),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"span",13),e._uU(21," 07:15 AM "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",14),e._UZ(23,"fa-icon",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"li",10),e.TgZ(25,"div",11),e.TgZ(26,"div",12),e.TgZ(27,"strong"),e._uU(28,"2. Inicio de descarga"),e.qZA(),e.TgZ(29,"div"),e.TgZ(30,"span",13),e._uU(31,"Bahia 2 "),e.qZA(),e.TgZ(32,"span",13),e._uU(33,"07:25 AM"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",14),e._UZ(35,"fa-icon",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"li",10),e.TgZ(37,"div",11),e.TgZ(38,"div",12),e.TgZ(39,"strong"),e._uU(40,"3. Fin de descarga"),e.qZA(),e.TgZ(41,"div"),e.TgZ(42,"span",13),e._uU(43,"Bahia 2 "),e.qZA(),e.TgZ(44,"span",13),e._uU(45,"08:40 AM"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",14),e._UZ(47,"fa-icon",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"li",10),e.TgZ(49,"div",11),e.TgZ(50,"div",12),e.TgZ(51,"strong"),e._uU(52,"4. Inicio de carga"),e.qZA(),e.TgZ(53,"div"),e.TgZ(54,"span",13),e._uU(55,"Bahia 1"),e.qZA(),e.TgZ(56,"span",13),e._uU(57,"09:10 AM"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",14),e._UZ(59,"fa-icon",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"li",10),e.TgZ(61,"div",11),e.TgZ(62,"div",12),e.TgZ(63,"strong"),e._uU(64,"5. Fin de carga"),e.qZA(),e.TgZ(65,"div"),e.TgZ(66,"span",13),e._uU(67,"Bahia 1"),e.qZA(),e.TgZ(68,"span",13),e._uU(69,"10:00 AM"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",14),e._UZ(71,"fa-icon",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"li",10),e.TgZ(73,"div",11),e.TgZ(74,"div",12),e.TgZ(75,"strong"),e._uU(76,"6. Registro de salida"),e.qZA(),e.TgZ(77,"div"),e.TgZ(78,"span",13),e._uU(79,"10:15 AM"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"div",14),e._UZ(81,"fa-icon",16),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.xp6(3),e.Q6J("icon",e.DdM(7,M)),e.xp6(20),e.Q6J("icon",e.DdM(8,T)),e.xp6(12),e.Q6J("icon",e.DdM(9,d)),e.xp6(12),e.Q6J("icon",e.DdM(10,d)),e.xp6(12),e.Q6J("icon",e.DdM(11,d)),e.xp6(12),e.Q6J("icon",e.DdM(12,d)),e.xp6(10),e.Q6J("icon",e.DdM(13,d)))},directives:[h.BN],styles:[""]}),u})();var z=a(2382),E=a(8372),R=a(9094),w=a(7423),x=a(2290);function N(u,q){1&u&&(e.TgZ(0,"span",20),e._uU(1," Placa es requerido "),e.qZA())}function A(u,q){if(1&u&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&u){const s=q.$implicit;e.Q6J("value",s._id),e.xp6(1),e.Oqu(s.name)}}function U(u,q){1&u&&(e.TgZ(0,"span",20),e._uU(1," Tipo es requerido "),e.qZA())}const F=function(){return["fas","save"]};function p(u,q){if(1&u&&(e.TgZ(0,"button",22),e._UZ(1,"fa-icon",4),e._uU(2," GUARDAR "),e.qZA()),2&u){const s=e.oxw();e.Q6J("disabled",s.form.invalid),e.xp6(1),e.Q6J("icon",e.DdM(2,F))}}const S=function(){return["fas","spinner"]};function H(u,q){1&u&&(e.TgZ(0,"button",23),e._UZ(1,"fa-icon",4),e._uU(2," Registrando... "),e.qZA()),2&u&&(e.xp6(1),e.Q6J("icon",e.DdM(1,S)))}const v=function(){return["fas","home"]};let y=(()=>{class u{constructor(s,m,B,D,J,O4){this.fb=s,this.driverService=m,this.authService=B,this.router=D,this.tsService=J,this.route=O4,this.id="",this.form=this.fb.group({plaque:["",z.kI.required],type:["",z.kI.required],origin:[""],ruc:[""],company:[""]}),this.loading=!1,this.plaque=this.fb.control(""),this.truckTypes=[],this.registryId="",this.route.params.subscribe(({id:K4,plaque:W4})=>{this.registryId=K4,this.searchPlaque(W4)})}ngOnInit(){var s;null===(s=this.form.get("plaque"))||void 0===s||s.valueChanges.pipe((0,E.b)(700),(0,R.x)()).subscribe(m=>{this.searchPlaque(m)}),this.driverService.listTruckTypes().subscribe(m=>{this.truckTypes=m})}searchPlaque(s){this.driverService.searchPlaque(s).subscribe(m=>{this.id="",m&&(this.form.patchValue(m,{emitEvent:!1,onlySelf:!0}),this.id=m._id)})}invalidField(s){var m,B;return(null===(m=this.form.get(s))||void 0===m?void 0:m.invalid)&&(null===(B=this.form.get(s))||void 0===B?void 0:B.touched)}register(){if(this.loading=!0,this.form.invalid)return;const{value:s}=this.form;this.id?this.driverService.updateTruck(s,this.id).subscribe(m=>{this.loading=!1,this.registry(m._id)}):this.driverService.createTruck(s).subscribe(m=>{this.loading=!1,this.registry(m._id)})}registry(s){this.route.snapshot.data.create?this.driverService.registry({driver:this.authService.userId,truck:s}).subscribe(B=>{this.tsService.success("Creado exitosamente"),this.router.navigate(["/admin/driver/qr-vehicle",B._id])}):(this.tsService.success("Actualizado correctamente"),this.router.navigate(["/admin/driver/qr-vehicle",this.registryId]))}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(z.qu),e.Y36(f),e.Y36(w.e),e.Y36(t.F0),e.Y36(x._W),e.Y36(t.gz))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-register-form"]],decls:39,vars:8,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/driver/dashboard"],[3,"icon"],[1,"row","g-3",3,"formGroup","submit"],[1,"col-md-4"],[1,"form-label"],["formControlName","plaque","type","text","placeholder","Ingrese placa",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["formControlName","type",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","origin","type","text","placeholder","Ingrese lugar de procedencia",1,"form-control"],["formControlName","ruc","type","text","placeholder","Ingrese ruc de la empresa",1,"form-control"],["formControlName","company","type","text","placeholder","Ingrese razon social",1,"form-control"],[1,"col-12"],[1,"d-grid","gap-2"],["class","btn btn-primary px-5","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-mob","disabled","",4,"ngIf"],[1,"form-text","text-danger"],[3,"value"],["type","submit",1,"btn","btn-primary","px-5",3,"disabled"],["disabled","",1,"btn","btn-primary","btn-mob"]],template:function(s,m){1&s&&(e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e._UZ(4,"fa-icon",4),e._uU(5," Inicio "),e.qZA(),e.qZA(),e.TgZ(6,"li",2),e._uU(7," Registro veh\xedculo "),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"hr"),e.TgZ(9,"form",5),e.NdJ("submit",function(){return m.register()}),e.TgZ(10,"div",6),e.TgZ(11,"label",7),e._uU(12,"Placa"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,N,2,0,"span",9),e.qZA(),e.TgZ(15,"div",6),e.TgZ(16,"label",7),e._uU(17,"Tipo de veh\xedculo"),e.qZA(),e.TgZ(18,"select",10),e.TgZ(19,"option",11),e._uU(20,"-------------"),e.qZA(),e.YNc(21,A,2,2,"option",12),e.qZA(),e.YNc(22,U,2,0,"span",9),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"label",7),e._uU(25,"Procedencia"),e.qZA(),e._UZ(26,"input",13),e.qZA(),e.TgZ(27,"div",6),e.TgZ(28,"label",7),e._uU(29,"RUC"),e.qZA(),e._UZ(30,"input",14),e.qZA(),e.TgZ(31,"div",6),e.TgZ(32,"label",7),e._uU(33,"Empresa"),e.qZA(),e._UZ(34,"input",15),e.qZA(),e.TgZ(35,"div",16),e.TgZ(36,"div",17),e.YNc(37,p,3,3,"button",18),e.YNc(38,H,3,2,"button",19),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.xp6(4),e.Q6J("icon",e.DdM(7,v)),e.xp6(5),e.Q6J("formGroup",m.form),e.xp6(5),e.Q6J("ngIf",m.invalidField("plaque")),e.xp6(7),e.Q6J("ngForOf",m.truckTypes),e.xp6(1),e.Q6J("ngIf",m.invalidField("type")),e.xp6(15),e.Q6J("ngIf",!m.loading),e.xp6(1),e.Q6J("ngIf",m.loading))},directives:[t.yS,h.BN,z._Y,z.JL,z.sg,z.Fj,z.JJ,z.u,n.O5,z.EJ,z.YN,z.Kr,n.sg],styles:[""]}),u})();var V=a(1134);const C=function(){return["fas","home"]},L=function(){return["fas","edit"]};let b=(()=>{class u{constructor(s,m,B){this.modalService=s,this.driverService=m,this.router=B}ngOnInit(){this.getInitial()}openModalForm(){this.bsModalRef=this.modalService.show(y,{class:"modal-dialog-centered"}),this.bsModalRef.content.closeBtnName="Close"}getInitial(){this.driverService.getInitial().subscribe(s=>{s&&this.router.navigateByUrl("/admin/driver/qr-vehicle")})}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(V.tT),e.Y36(f),e.Y36(t.F0))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-register-vehicle"]],decls:19,vars:4,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/driver/dashboard"],[3,"icon"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"mb-2","bd-highlight"],[1,"text-danger"],[1,"d-grid","gap-2"],["routerLink","/admin/driver/register-form",1,"btn","btn-primary","px-5"]],template:function(s,m){1&s&&(e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e._UZ(4,"fa-icon",4),e._uU(5," Inicio "),e.qZA(),e.qZA(),e.TgZ(6,"li",2),e._uU(7," Registro veh\xedculo "),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"hr"),e.TgZ(9,"div",5),e.TgZ(10,"div",6),e._uU(11,"25 Ene, 2022"),e.qZA(),e.qZA(),e.TgZ(12,"div"),e.TgZ(13,"p",7),e._uU(14," Para el ingreso en la cola, debe registrar los datos del veh\xedculo "),e.qZA(),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"a",9),e._UZ(17,"fa-icon",4),e._uU(18," Registrar veh\xedculo "),e.qZA(),e.qZA()),2&s&&(e.xp6(4),e.Q6J("icon",e.DdM(2,C)),e.xp6(13),e.Q6J("icon",e.DdM(3,L)))},directives:[t.yS,h.BN],styles:[""]}),u})();var P=a(5876);const Q=["qrcElement"];let e1=(()=>{class u{constructor(s){this.renderer=s,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10}ngOnChanges(){this.createQRCode()}isValidQrCodeText(s){return!1===this.allowEmptyString?!(void 0===s||""===s||"null"===s||null===s):void 0!==s}toDataURL(){return new Promise((s,m)=>{P.hz(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},(B,D)=>{B?m(B):s(D)})})}toCanvas(s){return new Promise((m,B)=>{P.rT(s,this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},D=>{D?B(D):m("success")})})}toSVG(){return new Promise((s,m)=>{P.toString(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:"svg",version:this.version,width:this.width},(B,D)=>{B?m(B):s(D)})})}renderElement(s){for(const m of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,m);this.renderer.appendChild(this.qrcElement.nativeElement,s)}createQRCode(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");let s;switch(this.isValidQrCodeText(this.qrdata)&&""===this.qrdata&&(this.qrdata=" "),this.elementType){case"canvas":s=this.renderer.createElement("canvas"),this.toCanvas(s).then(()=>{this.renderElement(s)}).catch(m=>{console.error("[angularx-qrcode] canvas error:",m)});break;case"svg":s=this.renderer.createElement("div"),this.toSVG().then(m=>{this.renderer.setProperty(s,"innerHTML",m);const B=s.firstChild;this.renderer.setAttribute(B,"height",`${this.width}`),this.renderer.setAttribute(B,"width",`${this.width}`),this.renderElement(B)}).catch(m=>{console.error("[angularx-qrcode] svg error:",m)});break;default:s=this.renderer.createElement("img"),this.toDataURL().then(m=>{s.setAttribute("src",m),this.renderElement(s)}).catch(m=>{console.error("[angularx-qrcode] img/url error:",m)})}}catch(s){console.error("[angularx-qrcode] Error generating QR Code:",s.message)}}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(e.Qsj))},u.\u0275cmp=e.Xpm({type:u,selectors:[["qrcode"]],viewQuery:function(s,m){if(1&s&&e.Gf(Q,7),2&s){let B;e.iGM(B=e.CRH())&&(m.qrcElement=B.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width"},features:[e.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(s,m){1&s&&e._UZ(0,"div",null,0),2&s&&e.Tol(m.cssClass)},encapsulation:2,changeDetection:0}),u})(),K=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({providers:[]}),u})();const c1=function(){return["fas","check"]};function Y(u,q){if(1&u){const s=e.EpF();e.TgZ(0,"div",14),e._UZ(1,"qrcode",15),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"button",12),e.NdJ("click",function(){return e.CHM(s),e.oxw().navigate()}),e._UZ(8,"fa-icon",4),e._uU(9," Ok "),e.qZA(),e.qZA(),e.qZA()}if(2&u){const s=e.oxw();e.xp6(1),e.Q6J("qrdata",s.qr)("allowEmptyString",!0)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","canvas")("errorCorrectionLevel","M")("margin",4)("scale",1)("width",300),e.xp6(2),e.AsE("",s.driver.firstName," ",s.driver.lastName,""),e.xp6(2),e.hij("Veh\xedculo: ",s.truck.plaque,""),e.xp6(3),e.Q6J("icon",e.DdM(14,c1))}}const G=function(){return["fas","home"]},W=function(u,q){return["/admin/driver/register-form",u,q,"edit"]},O=function(){return["fas","edit"]},t1=function(){return["fas","qrcode"]},$=[{path:"dashboard",component:g},{path:"register-vehicle",component:b},{path:"qr-vehicle/:id",component:(()=>{class u{constructor(s,m,B,D){this.modalService=s,this.router=m,this.route=B,this.driverService=D,this.truck={},this.driver={},this.registry={},this.date=Date.now(),this.route.params.subscribe(({id:J})=>{console.log("QRRRRR",J),this.qr=J,this.getQr(J)})}ngOnInit(){}showQr(s){this.modalRef=this.modalService.show(s,{class:"modal-dialog-centered"})}navigate(){var s;null===(s=this.modalRef)||void 0===s||s.hide()}getQr(s){this.driverService.getQr(s).subscribe(m=>{this.registry=m,this.truck=m.truck,this.driver=m.driver,console.log(m)})}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(V.tT),e.Y36(t.F0),e.Y36(t.gz),e.Y36(f))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-vehicle-qr"]],decls:24,vars:15,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/driver/dashboard"],[3,"icon"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"mb-2","bd-highlight"],[1,"d-flex","bd-highlight","mb-2"],[1,"p-2","flex-grow-1","bd-highlight"],[1,"p-2","bd-highlight",3,"routerLink"],[1,"d-grid","gap-2"],[1,"btn","btn-primary","px-5",3,"click"],["qrTemplate",""],[1,"p-3","text-center"],[3,"qrdata","allowEmptyString","cssClass","colorDark","colorLight","elementType","errorCorrectionLevel","margin","scale","width"]],template:function(s,m){if(1&s){const B=e.EpF();e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e._UZ(4,"fa-icon",4),e._uU(5," Inicio "),e.qZA(),e.qZA(),e.TgZ(6,"li",5),e._uU(7," Qr "),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"hr"),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e._uU(11),e.ALo(12,"date"),e.qZA(),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"div",9),e._uU(15),e.qZA(),e.TgZ(16,"a",10),e._UZ(17,"fa-icon",4),e.qZA(),e.qZA(),e.TgZ(18,"div",11),e.TgZ(19,"button",12),e.NdJ("click",function(){e.CHM(B);const J=e.MAs(23);return m.showQr(J)}),e._UZ(20,"fa-icon",4),e._uU(21," Mostrar QR "),e.qZA(),e.qZA(),e.YNc(22,Y,10,15,"ng-template",null,13,e.W1O)}2&s&&(e.xp6(4),e.Q6J("icon",e.DdM(9,G)),e.xp6(7),e.Oqu(e.xi3(12,6,m.date,"dd/MM/YYYY")),e.xp6(4),e.hij("Veh\xedculo: ",m.truck.plaque,""),e.xp6(1),e.Q6J("routerLink",e.WLB(10,W,m.registry._id,m.truck.plaque)),e.xp6(1),e.Q6J("icon",e.DdM(13,O)),e.xp6(3),e.Q6J("icon",e.DdM(14,t1)))},directives:[t.yS,h.BN,e1],pipes:[n.uU],styles:[""]}),u})()},{path:"register-form",component:y,data:{create:!0}},{path:"register-form/:id/:plaque/edit",component:y,data:{create:!1}},{path:"",redirectTo:"dashboard",pathMatch:"full"}];let k=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[[t.Bz.forChild($)],t.Bz]}),u})();var I=a(801),_=a(3596),r1={prefix:"far",iconName:"square",icon:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"]};let Y4=(()=>{class u{constructor(s){s.addIcons(I.r6l,I.J9Y,I.rtB,I.Xcf,I.LEp,I.LM3,I.$KU,I.a3n,r1)}}return u.\u0275fac=function(s){return new(s||u)(e.LFG(h.by))},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[[n.ez,k,V.zk.forRoot(),h.uH,_.N,K,z.UX]]}),u})()},4901:Z=>{"use strict";var i={single_source_shortest_paths:function(a,n,t){var e={},c={};c[n]=0;var o,l,f,h,M,d,r=i.PriorityQueue.make();for(r.push(n,0);!r.empty();)for(f in h=(o=r.pop()).cost,M=a[l=o.value]||{})M.hasOwnProperty(f)&&(d=h+M[f],(void 0===c[f]||c[f]>d)&&(c[f]=d,r.push(f,d),e[f]=l));if(void 0!==t&&void 0===c[t]){var E=["Could not find a path from ",n," to ",t,"."].join("");throw new Error(E)}return e},extract_shortest_path_from_predecessor_list:function(a,n){for(var t=[],e=n;e;)t.push(e),e=a[e];return t.reverse(),t},find_path:function(a,n,t){var e=i.single_source_shortest_paths(a,n,t);return i.extract_shortest_path_from_predecessor_list(e,t)},PriorityQueue:{make:function(a){var e,n=i.PriorityQueue,t={};for(e in a=a||{},n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t.queue=[],t.sorter=a.sorter||n.default_sorter,t},default_sorter:function(a,n){return a.cost-n.cost},push:function(a,n){this.queue.push({value:a,cost:n}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Z.exports=i},8419:Z=>{"use strict";Z.exports=function(a){for(var n=[],t=a.length,e=0;e<t;e++){var c=a.charCodeAt(e);if(c>=55296&&c<=56319&&t>e+1){var r=a.charCodeAt(e+1);r>=56320&&r<=57343&&(c=1024*(c-55296)+r-56320+65536,e+=1)}c<128?n.push(c):c<2048?(n.push(c>>6|192),n.push(63&c|128)):c<55296||c>=57344&&c<65536?(n.push(c>>12|224),n.push(c>>6&63|128),n.push(63&c|128)):c>=65536&&c<=1114111?(n.push(c>>18|240),n.push(c>>12&63|128),n.push(c>>6&63|128),n.push(63&c|128)):n.push(239,191,189)}return new Uint8Array(n).buffer}}}]);