"use strict";(self.webpackChunkwms_admin=self.webpackChunkwms_admin||[]).push([[383],{8383:(He,M,p)=>{p.r(M),p.d(M,{AdminModule:()=>Le});var m=p(9539),s=p(2382),t=p(4893),Z=p(2843),c=p(262),h=p(2340),g=p(8929),_=p(520);const{endpoint:E}=h.N,k=`${E}/control/registry`;let R=(()=>{class n{constructor(e){this.http=e}list(e={}){return this.http.get(`${k}/list`,Object.assign(Object.assign({},g.c),{params:e})).pipe((0,c.K)(this.errorHandler))}update(e,o){return this.http.put(`${k}/${e}/update`,o).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${k}/${e}/delete`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=p(1134),N=p(4796),u=p(9808),F=p(5898),C=p(2492);function G(n,r){1&n&&(t.TgZ(0,"div",28),t.TgZ(1,"div",41),t.TgZ(2,"span",42),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}function z(n,r){if(1&n&&(t.TgZ(0,"button",49),t._UZ(1,"i",50),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("popover",e.observation)}}function B(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t._UZ(12,"br"),t.TgZ(13,"small",43),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"td"),t._uU(16),t._UZ(17,"br"),t.TgZ(18,"small"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"td"),t._uU(21),t._UZ(22,"br"),t.TgZ(23,"small"),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.ALo(29,"date"),t.qZA(),t.TgZ(30,"td"),t.YNc(31,z,2,1,"button",44),t.qZA(),t.TgZ(32,"td"),t.TgZ(33,"button",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),d=t.MAs(90);return l.openRegForm(d,a)}),t._UZ(34,"i",46),t.qZA(),t.TgZ(35,"button",47),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().confirmDestroy(a)}),t._UZ(36,"i",48),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw();t.xp6(2),t.Oqu((i.params.page-1)*i.params.pageSize+o+1),t.xp6(2),t.Oqu(t.xi3(5,14,e.arrival,"HH:mm a")),t.xp6(3),t.Oqu(e.truck.plaque),t.xp6(2),t.Oqu(null==e.truck.type?null:e.truck.type.name),t.xp6(2),t.AsE(" ",e.driver.firstName," ",e.driver.lastName," "),t.xp6(3),t.hij("C\xe9dula: ",e.driver.document,""),t.xp6(2),t.hij("",null==e.unloadBay?null:e.unloadBay.name," "),t.xp6(3),t.Oqu(null==e.unloadLift?null:e.unloadLift.name),t.xp6(2),t.hij("",null==e.loadBay?null:e.loadBay.name," "),t.xp6(3),t.Oqu(null==e.loadLift?null:e.loadLift.name),t.xp6(2),t.Oqu(e.state),t.xp6(2),t.Oqu(t.lcZ(29,17,e.createdAt)),t.xp6(3),t.Q6J("ngIf",e.observation)}}function P(n,r){if(1&n&&(t.TgZ(0,"option",68),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function j(n,r){1&n&&(t.TgZ(0,"div",69),t._uU(1,"Este campo no puede exceder 300 caracteres"),t.qZA())}function K(n,r){if(1&n&&(t.TgZ(0,"button",70),t._UZ(1,"i",71),t._uU(2," Guardar "),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",!e.regForm.valid)}}function V(n,r){1&n&&(t.TgZ(0,"button",72),t._UZ(1,"span",73),t._uU(2," Guardando... "),t.qZA())}function X(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",51),t.TgZ(1,"h4",52),t._uU(2,"Actualizar detalles del registro"),t.qZA(),t.TgZ(3,"button",53),t.NdJ("click",function(){return t.CHM(e),t.oxw().modalRef.hide()}),t.TgZ(4,"span",54),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",14),t.NdJ("submit",function(){return t.CHM(e),t.oxw().save()}),t.TgZ(7,"div",55),t.TgZ(8,"h6"),t._uU(9),t.qZA(),t.TgZ(10,"p",56),t._uU(11),t.qZA(),t.TgZ(12,"div",57),t.TgZ(13,"label",58),t._uU(14,"Estado"),t.qZA(),t.TgZ(15,"select",59),t.YNc(16,P,2,2,"option",60),t.qZA(),t.qZA(),t.TgZ(17,"div",57),t.TgZ(18,"label",61),t._uU(19,"Observaci\xf3n"),t.qZA(),t._UZ(20,"textarea",62),t.YNc(21,j,2,0,"div",63),t.qZA(),t.qZA(),t.TgZ(22,"div",64),t.YNc(23,K,3,1,"button",65),t.YNc(24,V,3,0,"button",66),t.TgZ(25,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw().modalRef.hide()}),t._uU(26,"Cancelar"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("formGroup",e.regForm),t.xp6(3),t.hij("Veh\xedculo: ",e.registry.truck.plaque,""),t.xp6(2),t.AsE("Conductor: ",e.registry.driver.firstName," ",e.registry.driver.lastName,""),t.xp6(5),t.Q6J("ngForOf",e.status),t.xp6(4),t.Q6J("ngClass",e.validClass("observation")),t.xp6(1),t.Q6J("ngIf",null==e.f.observation.errors?null:e.f.observation.errors.maxlength),t.xp6(2),t.Q6J("ngIf",!e.sending),t.xp6(1),t.Q6J("ngIf",e.sending)}}let W=(()=>{class n{constructor(e,o,i,a){this.API=e,this.fb=o,this.common=i,this.modalService=a,this.loading=!1,this.params={page:1,pageSize:10},this.collectionSize=0,this.collection=[],this.status=["LLEGADA","DESCARGANDO","DESCARGADO","CARGA","CARGANDO","CARGADO","SALIDA"],this.dateForm=this.fb.group({fecha:[new Date]}),this.forma=this.fb.group({field:["document"],query:["",[s.kI.required]]}),this.sending=!1,this.regForm=this.fb.group({state:["LLEGADA"],observation:["",[s.kI.maxLength(300)]]})}ngOnInit(){this.params.fecha=this.dateForm.controls.fecha.value.toJSON(),this.list(),this.dateForm.valueChanges.subscribe(e=>this.filtrarByDate(e.fecha))}list(){this.loading=!0,this.API.list(this.params).subscribe(e=>{this.collection=e.results,this.collectionSize=e.total,this.loading=!1})}openRegForm(e,o){this.regForm.reset(),this.registry=o,this.regForm.patchValue(o),this.modalRef=this.modalService.show(e,{class:"modal-dialog-centered"})}get f(){return this.regForm.controls}validClass(e){return{"is-valid":this.f[e].touched&&this.f[e].valid,"is-invalid":this.f[e].touched&&this.f[e].invalid}}save(){this.sending=!0,this.API.update(this.registry._id,this.regForm.value).subscribe(e=>{this.sending=!1,this.modalRef.hide(),this.list(),this.common.showToast("Registro actualizado correctamente!!!")})}filtrarByDate(e){e?this.params.fecha=e.toJSON():delete this.params.fecha,this.list()}filter(){delete this.params.plaque,delete this.params.document;const e=this.forma.value,o={[e.field]:e.query};this.params=Object.assign(Object.assign({},this.params),o),this.list()}paginate(e={page:""}){this.params.page=e.page?e.page:1,this.list()}destroy(e){this.API.delete(e._id).subscribe(o=>{this.common.showToast(`Registro "${e._id}" fue eliminado correctamente!!!`),this.list()})}confirmDestroy(e){const o=this;this.common.showConfirm("CUIDADO!",`Est\xe1s tratando de eliminar el registro del veh\xedculo "${e.truck.plaque}", podr\xedas perder informaci\xf3n relacionada, si est\xe1s seguro continue por favor.`,function(a){a.isConfirmed&&o.destroy(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R),t.Y36(s.qu),t.Y36(g.v),t.Y36(T.tT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:91,vars:11,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-3","mb-2"],[3,"formGroup"],[1,"input-group","mb-2"],["type","text","formControlName","fecha","placeholder","Datepicker","bsDatepicker","",1,"form-control","input-group-prepend"],["dp","bsDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"ti-calendar"],[1,"ti-close"],[1,"col-md-4","offset-md-5"],[3,"formGroup","submit"],[1,"input-group-prepend"],["formControlName","field",1,"custom-select"],["value","document"],["value","plaque"],["type","search","formControlName","query","placeholder","Ingrese c\xe9dula o placa",1,"form-control"],[1,"input-group-append","d-none","d-sm-block"],["type","submit",1,"btn","btn-primary"],[1,"ti-search"],["type","submit",1,"btn","btn-primary","w-100","d-block","mt-2","d-sm-none"],["class","text-center",4,"ngIf"],[2,"overflow-x","auto"],[1,"table","table-striped","table-hover"],[2,"min-width","10em"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"col-md-10"],[3,"totalItems","ngModel","maxSize","itemsPerPage","pageChanged","ngModelChange"],[1,"col-md-2"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","10"],["value","20"],["value","50"],["value","100"],["value","1000"],["formModal",""],["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-muted"],["class","btn","popoverTitle","Observaci\xf3n","triggers","focus","style","font-size: 1.5em;",3,"popover",4,"ngIf"],[1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"ti-pencil"],[1,"btn","btn-sm","btn-outline-danger","ml-2",3,"click"],[1,"ti-trash"],["popoverTitle","Observaci\xf3n","triggers","focus",1,"btn",2,"font-size","1.5em",3,"popover"],[1,"ti-comment-alt"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"text-right"],[1,"form-group"],["for","estado"],["formControlName","state","name","estado","id","estado",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],["for","observation"],["formControlName","observation","id","observation","rows","6","placeholder","Ingrese observaci\xf3n o nota",1,"form-control",3,"ngClass"],["class","invalid-feedback text-left",4,"ngIf"],[1,"modal-footer"],["type","submit","class","btn btn-primary btn-mobile",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-mobile","type","button","disabled","",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-mobile",3,"click"],[3,"value"],[1,"invalid-feedback","text-left"],["type","submit",1,"btn","btn-primary","btn-mobile",3,"disabled"],[1,"ti-save"],["type","button","disabled","",1,"btn","btn-primary","btn-mobile"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Registros| "),t.TgZ(4,"small"),t._uU(5,"Administrar registros"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"form",5),t.TgZ(10,"div",6),t._UZ(11,"input",7,8),t.TgZ(13,"span",9),t.TgZ(14,"button",10),t.NdJ("click",function(){return t.CHM(i),t.MAs(12).toggle()}),t._UZ(15,"i",11),t.qZA(),t.qZA(),t.TgZ(16,"span",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.dateForm.reset()}),t._UZ(18,"i",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",13),t.TgZ(20,"form",14),t.NdJ("submit",function(){return o.filter()}),t.TgZ(21,"div",6),t.TgZ(22,"span",15),t.TgZ(23,"select",16),t.TgZ(24,"option",17),t._uU(25,"C\xe9dula"),t.qZA(),t.TgZ(26,"option",18),t._uU(27,"Placa"),t.qZA(),t.qZA(),t.qZA(),t._UZ(28,"input",19),t.TgZ(29,"span",20),t.TgZ(30,"button",21),t._UZ(31,"i",22),t._uU(32," Filtrar"),t.qZA(),t.qZA(),t.TgZ(33,"button",23),t._UZ(34,"i",22),t._uU(35," Filtrar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(36,G,4,0,"div",24),t.TgZ(37,"div",25),t.TgZ(38,"h5"),t._uU(39,"Lista de registros"),t.qZA(),t.TgZ(40,"table",26),t.TgZ(41,"thead"),t.TgZ(42,"tr"),t.TgZ(43,"th"),t._uU(44,"#"),t.qZA(),t.TgZ(45,"th"),t.TgZ(46,"small"),t._uU(47,"Hora llegada"),t.qZA(),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Veh\xedculo"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Tipo"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Conductor"),t.qZA(),t.TgZ(54,"th"),t.TgZ(55,"small"),t._uU(56,"Bahia descarga"),t.qZA(),t.qZA(),t.TgZ(57,"th"),t.TgZ(58,"small"),t._uU(59,"Bahia carga"),t.qZA(),t.qZA(),t.TgZ(60,"th",27),t._uU(61,"Estado"),t.qZA(),t.TgZ(62,"th"),t.TgZ(63,"small"),t._uU(64,"Fecha"),t.qZA(),t.qZA(),t.TgZ(65,"th"),t.TgZ(66,"small"),t._uU(67,"Nota."),t.qZA(),t.qZA(),t.TgZ(68,"th",28),t._uU(69,"Acci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"tbody"),t.YNc(71,B,37,19,"tr",29),t.qZA(),t.qZA(),t.TgZ(72,"div",30),t.TgZ(73,"div",31),t.TgZ(74,"pagination",32),t.NdJ("pageChanged",function(l){return o.paginate(l)})("ngModelChange",function(l){return o.params.page=l}),t.qZA(),t.TgZ(75,"p"),t._uU(76),t.qZA(),t.qZA(),t.TgZ(77,"div",33),t.TgZ(78,"select",34),t.NdJ("ngModelChange",function(l){return o.params.pageSize=l})("ngModelChange",function(){return o.paginate()}),t.TgZ(79,"option",35),t._uU(80,"10"),t.qZA(),t.TgZ(81,"option",36),t._uU(82,"20"),t.qZA(),t.TgZ(83,"option",37),t._uU(84,"50"),t.qZA(),t.TgZ(85,"option",38),t._uU(86,"100"),t.qZA(),t.TgZ(87,"option",39),t._uU(88,"1000"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(89,X,27,9,"ng-template",null,40,t.W1O)}if(2&e){const i=t.MAs(12);t.xp6(9),t.Q6J("formGroup",o.dateForm),t.xp6(5),t.uIk("aria-expanded",i.isOpen),t.xp6(6),t.Q6J("formGroup",o.forma),t.xp6(16),t.Q6J("ngIf",o.loading),t.xp6(35),t.Q6J("ngForOf",o.collection),t.xp6(3),t.Q6J("totalItems",o.collectionSize)("ngModel",o.params.page)("maxSize",4)("itemsPerPage",o.params.pageSize),t.xp6(2),t.hij("",o.collectionSize," Registros"),t.xp6(2),t.Q6J("ngModel",o.params.pageSize)}},directives:[s._Y,s.JL,s.sg,s.Fj,N.Y5,s.JJ,s.u,N.Np,s.EJ,s.YN,s.Kr,u.O5,u.sg,F.k5,C.Qt,s.On,u.mk],pipes:[u.uU],styles:[""]}),n})();const{endpoint:f}=h.N;let U=(()=>{class n{constructor(e){this.http=e}list(e={}){return this.http.get(`${f}/account/users`,Object.assign(Object.assign({},g.c),{params:e})).pipe((0,c.K)(this.errorHandler))}create(e){return this.http.post(`${f}/account/create`,e).pipe((0,c.K)(this.errorHandler))}retrieve(e){return this.http.get(`${f}/account/${e}/retrieve`).pipe((0,c.K)(this.errorHandler))}update(e){return this.http.put(`${f}/account/${e.uid}/update`,e).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${f}/account/${e}/delete`).pipe((0,c.K)(this.errorHandler))}changePassword(e){return this.http.post(`${f}/account/password-change`,e).pipe((0,c.K)(this.errorHandler))}resetPassword(e){return this.http.get(`${f}/account/${e}/password-reset`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tt(n,r){1&n&&(t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"span",37),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}const et=function(n){return[n,"detail"]},ot=function(n){return[n,"update"]};function nt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"a",38),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t.TgZ(12,"div",39),t.TgZ(13,"input",40),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isDriver=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(14,"label",41),t.qZA(),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"div",39),t.TgZ(17,"input",40),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isControl=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(18,"label",41),t.qZA(),t.qZA(),t.TgZ(19,"td"),t.TgZ(20,"div",39),t.TgZ(21,"input",40),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isOperator=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(22,"label",41),t.qZA(),t.qZA(),t.TgZ(23,"td"),t.TgZ(24,"div",39),t.TgZ(25,"input",40),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isAssistant=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(26,"label",41),t.qZA(),t.qZA(),t.TgZ(27,"td"),t.TgZ(28,"div",39),t.TgZ(29,"input",40),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isSorter=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(30,"label",41),t.qZA(),t.qZA(),t.TgZ(31,"td"),t.TgZ(32,"div",39),t.TgZ(33,"input",40),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isPicking=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(34,"label",41),t.qZA(),t.qZA(),t.TgZ(35,"td"),t.TgZ(36,"div",39),t.TgZ(37,"input",40),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isActive=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(38,"label",41),t.qZA(),t.qZA(),t.TgZ(39,"td"),t.TgZ(40,"a",42),t._UZ(41,"i",43),t.qZA(),t.TgZ(42,"button",44),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().confirmDestroy(a)}),t._UZ(43,"i",45),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw();t.xp6(2),t.Oqu((i.params.page-1)*i.params.pageSize+o+1),t.xp6(2),t.Q6J("routerLink",t.VKq(27,et,e.uid)),t.xp6(2),t.Oqu(e.firstName),t.xp6(2),t.Oqu(e.lastName),t.xp6(2),t.Oqu(e.document),t.xp6(3),t.MGl("id","",o,"switchDr"),t.Q6J("ngModel",e.isDriver),t.xp6(1),t.MGl("for","",o,"switchDr"),t.xp6(3),t.MGl("id","",o,"switchCo"),t.Q6J("ngModel",e.isControl),t.xp6(1),t.MGl("for","",o,"switchCo"),t.xp6(3),t.MGl("id","",o,"switchOp"),t.Q6J("ngModel",e.isOperator),t.xp6(1),t.MGl("for","",o,"switchOp"),t.xp6(3),t.MGl("id","",o,"switchAss"),t.Q6J("ngModel",e.isAssistant),t.xp6(1),t.MGl("for","",o,"switchAss"),t.xp6(3),t.MGl("id","",o,"switchSo"),t.Q6J("ngModel",e.isSorter),t.xp6(1),t.MGl("for","",o,"switchSo"),t.xp6(3),t.MGl("id","",o,"switchPi"),t.Q6J("ngModel",e.isPicking),t.xp6(1),t.MGl("for","",o,"switchPi"),t.xp6(3),t.MGl("id","",o,"switchAc"),t.Q6J("ngModel",e.isActive),t.xp6(1),t.MGl("for","",o,"switchAc"),t.xp6(2),t.Q6J("routerLink",t.VKq(29,ot,e.uid))}}const rt=function(){return["create"]};let it=(()=>{class n{constructor(e,o,i){this.userService=e,this.fb=o,this.common=i,this.loading=!1,this.params={page:1,pageSize:10},this.collectionSize=0,this.users=[],this.forma=this.fb.group({field:["firstName"],query:["",[s.kI.required]]})}ngOnInit(){this.list()}list(){this.loading=!0,this.userService.list(this.params).subscribe(e=>{this.users=e.results,this.collectionSize=e.total,this.loading=!1})}update(e){this.userService.update(e).subscribe(o=>{this.common.showToast("Privilegios actualizados")})}filter(){const e=this.forma.value,o={[e.field]:e.query};this.params=Object.assign(Object.assign({},this.params),o),this.list()}paginate(e={page:""}){this.params.page=e.page?e.page:1,this.list()}destroy(e){this.userService.delete(e.uid).subscribe(o=>{this.common.showToast(o.message),this.list()})}confirmDestroy(e){const o=this;this.common.showConfirm("\xbfEst\xe1s seguro?",`Est\xe1s eliminando el usuario "${e.firstName}", podr\xedas perder informaci\xf3n que est\xe9 relacionada a este. Si est\xe1 segur@ continue por favor.`,function(a){a.isConfirmed&&o.destroy(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U),t.Y36(s.qu),t.Y36(g.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-users"]],decls:88,vars:11,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-2","mb-2"],[1,"btn","btn-primary","w-100",3,"routerLink"],[1,"ti-plus"],[1,"col-md-4","offset-md-6"],[3,"formGroup","submit"],[1,"input-group","mb-2"],[1,"input-group-prepend"],["formControlName","field",1,"custom-select"],["value","document"],["value","firstName"],["value","lastName"],["type","search","formControlName","query","placeholder","Ingrese datos",1,"form-control"],[1,"input-group-append","d-none","d-sm-block"],["type","submit",1,"btn","btn-primary"],[1,"ti-search"],["type","submit",1,"btn","btn-primary","d-block","d-sm-none","w-100","mt-2"],["class","text-center",4,"ngIf"],[2,"overflow-x","auto"],[1,"table","table-striped"],["title","Montacarguista"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"col-md-10"],[3,"totalItems","ngModel","maxSize","itemsPerPage","pageChanged","ngModelChange"],[1,"col-md-2"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","10"],["value","20"],["value","50"],["value","100"],["value","1000"],[1,"text-center"],["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-dark",3,"routerLink"],[1,"custom-control","custom-switch"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange"],[1,"custom-control-label",3,"for"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"ti-pencil"],[1,"btn","btn-outline-danger","btn-sm","ml-2",3,"click"],[1,"ti-trash"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Usuarios| "),t.TgZ(4,"small"),t._uU(5,"Administrar personal"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"button",5),t._UZ(10,"i",6),t._uU(11," Nuevo"),t.qZA(),t.qZA(),t.TgZ(12,"div",7),t.TgZ(13,"form",8),t.NdJ("submit",function(){return o.filter()}),t.TgZ(14,"div",9),t.TgZ(15,"span",10),t.TgZ(16,"select",11),t.TgZ(17,"option",12),t._uU(18,"C\xe9dula"),t.qZA(),t.TgZ(19,"option",13),t._uU(20,"Nombres"),t.qZA(),t.TgZ(21,"option",14),t._uU(22,"Apellidos"),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"input",15),t.TgZ(24,"span",16),t.TgZ(25,"button",17),t._UZ(26,"i",18),t._uU(27," Filtrar"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"button",19),t._UZ(29,"i",18),t._uU(30," Filtrar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(31,tt,4,0,"div",20),t.TgZ(32,"div",21),t.TgZ(33,"h5"),t._uU(34,"Lista de usuario"),t.qZA(),t.TgZ(35,"table",22),t.TgZ(36,"thead"),t.TgZ(37,"tr"),t.TgZ(38,"th"),t._uU(39,"#"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Nombres"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Apellidos"),t.qZA(),t.TgZ(44,"th"),t._uU(45,"C\xe9dula"),t.qZA(),t.TgZ(46,"th"),t.TgZ(47,"small"),t._uU(48,"Conductor"),t.qZA(),t.qZA(),t.TgZ(49,"th"),t.TgZ(50,"small"),t._uU(51,"Control"),t.qZA(),t.qZA(),t.TgZ(52,"th",23),t.TgZ(53,"small"),t._uU(54,"Operador"),t.qZA(),t.qZA(),t.TgZ(55,"th"),t.TgZ(56,"small"),t._uU(57,"Asistente"),t.qZA(),t.qZA(),t.TgZ(58,"th"),t.TgZ(59,"small"),t._uU(60,"Clasificador"),t.qZA(),t.qZA(),t.TgZ(61,"th"),t.TgZ(62,"small"),t._uU(63,"Picking"),t.qZA(),t.qZA(),t.TgZ(64,"th"),t.TgZ(65,"small"),t._uU(66,"Activo"),t.qZA(),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Opci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(69,"tbody"),t.YNc(70,nt,44,31,"tr",24),t.qZA(),t.qZA(),t.TgZ(71,"div",25),t.TgZ(72,"div",26),t.TgZ(73,"pagination",27),t.NdJ("pageChanged",function(a){return o.paginate(a)})("ngModelChange",function(a){return o.params.page=a}),t.qZA(),t.TgZ(74,"p"),t._uU(75),t.qZA(),t.qZA(),t.TgZ(76,"div",28),t.TgZ(77,"select",29),t.NdJ("ngModelChange",function(a){return o.params.pageSize=a})("ngModelChange",function(){return o.paginate()}),t.TgZ(78,"option",30),t._uU(79,"10"),t.qZA(),t.TgZ(80,"option",31),t._uU(81,"20"),t.qZA(),t.TgZ(82,"option",32),t._uU(83,"50"),t.qZA(),t.TgZ(84,"option",33),t._uU(85,"100"),t.qZA(),t.TgZ(86,"option",34),t._uU(87,"1000"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("routerLink",t.DdM(10,rt)),t.xp6(4),t.Q6J("formGroup",o.forma),t.xp6(18),t.Q6J("ngIf",o.loading),t.xp6(39),t.Q6J("ngForOf",o.users),t.xp6(3),t.Q6J("totalItems",o.collectionSize)("ngModel",o.params.page)("maxSize",4)("itemsPerPage",o.params.pageSize),t.xp6(2),t.hij("",o.collectionSize," Usuarios"),t.xp6(2),t.Q6J("ngModel",o.params.pageSize))},directives:[m.rH,s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,s.Fj,u.O5,u.sg,m.yS,s.Wl,s.On,C.Qt],styles:[""]}),n})();const{endpoint:x}=h.N;let I=(()=>{class n{constructor(e){this.http=e}list(){return this.http.get(`${x}/account/campus`).pipe((0,c.K)(this.errorHandler))}create(e){return this.http.post(`${x}/account/campus/create`,e).pipe((0,c.K)(this.errorHandler))}update(e){return this.http.put(`${x}/account/${e._id}/campus/update`,e).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${x}/account/${e}/campus/delete`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var st=p(5397);function at(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo es requerido"),t.qZA())}function lt(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo no puede exceder 15 caracteres"),t.qZA())}function ct(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo es requerido"),t.qZA())}function ut(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo no puede exceder 50 caracteres"),t.qZA())}function pt(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo es requerido"),t.qZA())}function dt(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo no puede exceder 60 caracteres"),t.qZA())}function mt(n,r){if(1&n&&(t.TgZ(0,"option",42),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.code),t.xp6(1),t.lnq("",e.code," - ",e.name," - ",e.region,"")}}function gt(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo es requerido"),t.qZA())}function _t(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo no puede exceder 60 caracteres"),t.qZA())}function Zt(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo no puede exceder 12 caracteres"),t.qZA())}function ht(n,r){1&n&&(t.TgZ(0,"div",41),t._uU(1,"Este campo no puede exceder 12 caracteres"),t.qZA())}function ft(n,r){if(1&n&&(t.TgZ(0,"button",43),t._UZ(1,"i",44),t._uU(2," Guardar "),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",!e.forma.valid)}}function Tt(n,r){1&n&&(t.TgZ(0,"button",45),t._UZ(1,"span",46),t.TgZ(2,"span",47),t._uU(3,"Enviando..."),t.qZA(),t.qZA())}const bt=function(){return["/admin","users"]};let O=(()=>{class n{constructor(e,o,i,a,l,d){this.userService=e,this.fb=o,this.router=i,this.activatedRoute=a,this.campusService=l,this.authService=d,this.myTitle="Usuario",this.subTitle="Registrar un nuevo usuario",this.sending=!1,this.campus=[],this.forma=this.fb.group({uid:[""],firstName:["",[s.kI.required,s.kI.maxLength(50)]],lastName:["",[s.kI.required,s.kI.maxLength(60)]],campus:["",[s.kI.required]],document:["",[s.kI.required,s.kI.maxLength(15)]],licence:["",[s.kI.maxLength(12)]],category:["",[s.kI.maxLength(12)]],isDriver:[!1],isControl:[!1],isOperator:[!1],isAssistant:[!1],isSorter:[!1],isActive:[!0],isAdmin:[!1]})}ngOnInit(){var e;this.activatedRoute.params.subscribe(i=>this.retrieveUser(i.id)),this.getCampus();const{campus:o}=this.authService.user;null===(e=this.forma.get("campus"))||void 0===e||e.patchValue(o)}getCampus(){this.campusService.list().subscribe(e=>{this.campus=e})}retrieveUser(e){!e||this.userService.retrieve(e).subscribe(o=>{this.forma.patchValue(o),this.myTitle="Actualizar usuario",this.subTitle=`${o.firstName} ${o.lastName}`})}onSubmit(){this.sending=!0;const e=this.forma.value;e.uid?this.userService.update(e).subscribe(o=>{this.sending=!1,this.router.navigate(["admin","users"])}):this.userService.create(e).subscribe(o=>{this.sending=!1,this.router.navigate(["admin","users"])})}get f(){return this.forma.controls}classes(e){return{"is-valid":this.f[e].touched&&this.f[e].valid,"is-invalid":this.f[e].touched&&this.f[e].invalid}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U),t.Y36(s.qu),t.Y36(m.F0),t.Y36(m.gz),t.Y36(I),t.Y36(st.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-form"]],decls:84,vars:23,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[3,"formGroup","submit"],[1,"form-group"],["for","dni"],["type","text","formControlName","document","id","dni","placeholder","Ingrese c\xe9dula/DNI","aria-describedby","dniId",1,"form-control",3,"ngClass"],["id","dniId",1,"text-muted"],["class","invalid-feedback text-left",4,"ngIf"],[1,"form-row"],[1,"form-group","col-md-4"],["for","nombres"],["type","text","formControlName","firstName","id","nombres","placeholder","Ingrese nombres",1,"form-control",3,"ngClass"],["for","apellidos"],["type","text","formControlName","lastName","id","apellidos","placeholder","Ingrese apellidos",1,"form-control",3,"ngClass"],["formControlName","campus",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"row","pl-3"],[1,"custom-control","custom-checkbox","col-md-2"],["type","checkbox","formControlName","isDriver","id","isDriver",1,"custom-control-input"],["for","isDriver",1,"custom-control-label"],["type","checkbox","formControlName","isControl","id","isControl",1,"custom-control-input"],["for","isControl",1,"custom-control-label"],["type","checkbox","formControlName","isOperator","id","isOperator",1,"custom-control-input"],["for","isOperator",1,"custom-control-label"],["type","checkbox","formControlName","isAssistant","id","isAssistant",1,"custom-control-input"],["for","isAssistant",1,"custom-control-label"],["type","checkbox","formControlName","isSorter","id","isSorter",1,"custom-control-input"],["for","isSorter",1,"custom-control-label"],["type","checkbox","formControlName","isAdmin","id","isAdmin",1,"custom-control-input"],["for","isAdmin",1,"custom-control-label"],[1,"form-row","mt-4"],[1,"form-group","col-md-6"],["for","licence"],["type","text","formControlName","licence","id","licence","placeholder","Ingrese n\xfamero de licencia",1,"form-control",3,"ngClass"],["for","category"],["type","text","formControlName","category","id","category","placeholder","Ingrese categor\xeda de licencia",1,"form-control",3,"ngClass"],["type","submit","class","btn btn-primary btn-mobile",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-mobile","type","button","disabled","",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-mobile",3,"routerLink"],[1,"ti-arrow-left"],[1,"invalid-feedback","text-left"],[3,"value"],["type","submit",1,"btn","btn-primary","btn-mobile",3,"disabled"],[1,"ti-save"],["type","button","disabled","",1,"btn","btn-primary","btn-mobile"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"sr-only"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3),t.TgZ(4,"small"),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"form",3),t.NdJ("submit",function(){return o.onSubmit()}),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10,"C\xe9dula*"),t.qZA(),t._UZ(11,"input",6),t.TgZ(12,"small",7),t._uU(13,"C\xe9dula/DNI"),t.qZA(),t.YNc(14,at,2,0,"div",8),t.YNc(15,lt,2,0,"div",8),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"div",10),t.TgZ(18,"label",11),t._uU(19,"Nombres*"),t.qZA(),t._UZ(20,"input",12),t.YNc(21,ct,2,0,"div",8),t.YNc(22,ut,2,0,"div",8),t.qZA(),t.TgZ(23,"div",10),t.TgZ(24,"label",13),t._uU(25,"Apellidos*"),t.qZA(),t._UZ(26,"input",14),t.YNc(27,pt,2,0,"div",8),t.YNc(28,dt,2,0,"div",8),t.qZA(),t.TgZ(29,"div",10),t.TgZ(30,"label",13),t._uU(31,"CD"),t.qZA(),t.TgZ(32,"select",15),t.YNc(33,mt,2,4,"option",16),t.qZA(),t.YNc(34,gt,2,0,"div",8),t.YNc(35,_t,2,0,"div",8),t.qZA(),t.qZA(),t.TgZ(36,"div",17),t.TgZ(37,"div",18),t._UZ(38,"input",19),t.TgZ(39,"label",20),t._uU(40,"Es conductor"),t.qZA(),t.qZA(),t.TgZ(41,"div",18),t._UZ(42,"input",21),t.TgZ(43,"label",22),t._uU(44,"Es control"),t.qZA(),t.qZA(),t.TgZ(45,"div",18),t._UZ(46,"input",23),t.TgZ(47,"label",24),t._uU(48,"Operador"),t.qZA(),t._UZ(49,"br"),t.TgZ(50,"small"),t._uU(51,"Operador montacarga"),t.qZA(),t.qZA(),t.TgZ(52,"div",18),t._UZ(53,"input",25),t.TgZ(54,"label",26),t._uU(55,"Asistente"),t.qZA(),t.qZA(),t.TgZ(56,"div",18),t._UZ(57,"input",27),t.TgZ(58,"label",28),t._uU(59,"Clasificador"),t.qZA(),t.qZA(),t.TgZ(60,"div",18),t._UZ(61,"input",29),t.TgZ(62,"label",30),t._uU(63,"Admin"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div",31),t.TgZ(65,"div",32),t.TgZ(66,"label",33),t._uU(67,"Licencia "),t.TgZ(68,"small"),t._uU(69,"(Opcional)"),t.qZA(),t.qZA(),t._UZ(70,"input",34),t.YNc(71,Zt,2,0,"div",8),t.qZA(),t.TgZ(72,"div",32),t.TgZ(73,"label",35),t._uU(74,"Categor\xeda "),t.TgZ(75,"small"),t._uU(76,"(Opcional)"),t.qZA(),t.qZA(),t._UZ(77,"input",36),t.YNc(78,ht,2,0,"div",8),t.qZA(),t.qZA(),t.YNc(79,ft,3,1,"button",37),t.YNc(80,Tt,4,0,"button",38),t.TgZ(81,"button",39),t._UZ(82,"i",40),t._uU(83," Cancelar "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij("",o.myTitle,"| "),t.xp6(2),t.Oqu(o.subTitle),t.xp6(2),t.Q6J("formGroup",o.forma),t.xp6(4),t.Q6J("ngClass",o.classes("document")),t.xp6(3),t.Q6J("ngIf",null==o.f.document.errors?null:o.f.document.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.f.document.errors?null:o.f.document.errors.maxlength),t.xp6(5),t.Q6J("ngClass",o.classes("firstName")),t.xp6(1),t.Q6J("ngIf",null==o.f.firstName.errors?null:o.f.firstName.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.f.firstName.errors?null:o.f.firstName.errors.maxlength),t.xp6(4),t.Q6J("ngClass",o.classes("lastName")),t.xp6(1),t.Q6J("ngIf",null==o.f.lastName.errors?null:o.f.lastName.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.f.lastName.errors?null:o.f.lastName.errors.maxlength),t.xp6(5),t.Q6J("ngForOf",o.campus),t.xp6(1),t.Q6J("ngIf",null==o.f.lastName.errors?null:o.f.lastName.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.f.lastName.errors?null:o.f.lastName.errors.maxlength),t.xp6(35),t.Q6J("ngClass",o.classes("licence")),t.xp6(1),t.Q6J("ngIf",null==o.f.licence.errors?null:o.f.licence.errors.maxlength),t.xp6(6),t.Q6J("ngClass",o.classes("category")),t.xp6(1),t.Q6J("ngIf",null==o.f.category.errors?null:o.f.category.errors.maxlength),t.xp6(1),t.Q6J("ngIf",!o.sending),t.xp6(1),t.Q6J("ngIf",o.sending),t.xp6(1),t.Q6J("routerLink",t.DdM(22,bt)))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,u.mk,u.O5,s.EJ,u.sg,s.YN,s.Kr,s.Wl,m.rH],styles:[""]}),n})();function At(n,r){1&n&&(t.TgZ(0,"p"),t.TgZ(1,"strong"),t._UZ(2,"i",20),t.qZA(),t._uU(3," Es conductor"),t.qZA())}function qt(n,r){1&n&&(t.TgZ(0,"p"),t.TgZ(1,"strong"),t._UZ(2,"i",20),t.qZA(),t._uU(3," Es controlador"),t.qZA())}function vt(n,r){1&n&&(t.TgZ(0,"p"),t.TgZ(1,"strong"),t._UZ(2,"i",20),t.qZA(),t._uU(3," Montacarguista"),t.qZA())}function Ct(n,r){1&n&&(t.TgZ(0,"p"),t.TgZ(1,"strong"),t._UZ(2,"i",20),t.qZA(),t._uU(3," Asistente"),t.qZA())}function Ut(n,r){1&n&&(t.TgZ(0,"p"),t.TgZ(1,"strong"),t._UZ(2,"i",20),t.qZA(),t._uU(3," Admin"),t.qZA())}function xt(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2,"Licencia"),t.qZA(),t.TgZ(3,"p",12),t._uU(4),t.qZA(),t.TgZ(5,"small"),t._uU(6,"Categor\xeda"),t.qZA(),t.TgZ(7,"p",12),t._uU(8),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.user?null:e.user.licence),t.xp6(4),t.Oqu(null==e.user?null:e.user.category)}}function yt(n,r){1&n&&(t.TgZ(0,"p",21),t.TgZ(1,"strong"),t._UZ(2,"i",22),t.qZA(),t._uU(3," Activo"),t.qZA())}function kt(n,r){1&n&&(t.TgZ(0,"p",23),t.TgZ(1,"strong"),t._UZ(2,"i",24),t.qZA(),t._uU(3," Inactivo"),t.qZA())}const Nt=function(n){return["/admin","users",n,"update"]},Jt=function(){return["/admin","users"]};let Mt=(()=>{class n{constructor(e,o){this.userService=e,this.activatedRoute=o,this.myTitle="Usuario",this.subTitle="Detalle del usuario"}ngOnInit(){this.activatedRoute.params.subscribe(e=>this.retrieveUser(e.id))}retrieveUser(e){!e||this.userService.retrieve(e).subscribe(o=>this.user=o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U),t.Y36(m.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-detail"]],decls:49,vars:19,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-5"],[1,"col-5"],[1,"text-center"],[1,"ti-user",2,"font-size","5em"],[1,"mt-4","mb-0"],[1,"mt-4"],[4,"ngIf"],[1,"col-7"],[1,"fs-12"],["class","text-success fs-12",4,"ngIf"],["class","text-danger fs-12",4,"ngIf"],[1,"col-md-7"],["type","button",1,"btn","btn-primary","btn-mobile",3,"routerLink"],[1,"ti-pencil"],["type","button",1,"btn","btn-danger","btn-mobile",3,"routerLink"],[1,"ti-arrow-left"],[1,"ti-check-box","fs-15"],[1,"text-success","fs-12"],[1,"ti-face-smile"],[1,"text-danger","fs-12"],[1,"ti-face-sad"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3),t.TgZ(4,"small"),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",3),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t._UZ(12,"i",7),t.TgZ(13,"p",8),t.TgZ(14,"small"),t._uU(15,"Usuario"),t.qZA(),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA(),t.TgZ(18,"div",9),t.YNc(19,At,4,0,"p",10),t.YNc(20,qt,4,0,"p",10),t.YNc(21,vt,4,0,"p",10),t.YNc(22,Ct,4,0,"p",10),t.YNc(23,Ut,4,0,"p",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",11),t.TgZ(25,"small"),t._uU(26,"C\xe9dula/DNI"),t.qZA(),t.TgZ(27,"p",12),t._uU(28),t.qZA(),t.TgZ(29,"small"),t._uU(30,"Nombres"),t.qZA(),t.TgZ(31,"p",12),t._uU(32),t.qZA(),t.TgZ(33,"small"),t._uU(34,"Apellidos"),t.qZA(),t.TgZ(35,"p",12),t._uU(36),t.qZA(),t.YNc(37,xt,9,2,"div",10),t.TgZ(38,"small"),t._uU(39,"Estado"),t.qZA(),t.YNc(40,yt,4,0,"p",13),t.YNc(41,kt,4,0,"p",14),t.qZA(),t.qZA(),t.qZA(),t._UZ(42,"div",15),t.qZA(),t.TgZ(43,"button",16),t._UZ(44,"i",17),t._uU(45," Editar "),t.qZA(),t.TgZ(46,"button",18),t._UZ(47,"i",19),t._uU(48," Regresar "),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij("",o.myTitle,"| "),t.xp6(2),t.Oqu(o.subTitle),t.xp6(12),t.Oqu(null==o.user?null:o.user.username),t.xp6(2),t.Q6J("ngIf",null==o.user?null:o.user.isDriver),t.xp6(1),t.Q6J("ngIf",null==o.user?null:o.user.isControl),t.xp6(1),t.Q6J("ngIf",null==o.user?null:o.user.isOperator),t.xp6(1),t.Q6J("ngIf",null==o.user?null:o.user.isAssistant),t.xp6(1),t.Q6J("ngIf",null==o.user?null:o.user.isAdmin),t.xp6(5),t.Oqu(null==o.user?null:o.user.document),t.xp6(4),t.Oqu(null==o.user?null:o.user.firstName),t.xp6(4),t.Oqu(null==o.user?null:o.user.lastName),t.xp6(1),t.Q6J("ngIf",null==o.user?null:o.user.isDriver),t.xp6(3),t.Q6J("ngIf",null==o.user?null:o.user.isActive),t.xp6(1),t.Q6J("ngIf",!(null!=o.user&&o.user.isActive)),t.xp6(2),t.Q6J("routerLink",t.VKq(16,Nt,null==o.user?null:o.user.uid)),t.xp6(3),t.Q6J("routerLink",t.DdM(18,Jt)))},directives:[u.O5,m.rH],styles:[".fs-12[_ngcontent-%COMP%]{font-size:1.2em}.fs-15[_ngcontent-%COMP%]{font-size:1.5em;color:#19ca02}"]}),n})();const{endpoint:b}=h.N;let Ft=(()=>{class n{constructor(e){this.http=e}list(e={}){return this.http.get(`${b}/control/bay/list`,Object.assign(Object.assign({},g.c),{params:e})).pipe((0,c.K)(this.errorHandler))}create(e){return this.http.post(`${b}/control/bay/create`,e).pipe((0,c.K)(this.errorHandler))}retrieve(e){return this.http.get(`${b}/control/bay/${e}/retrieve`).pipe((0,c.K)(this.errorHandler))}update(e){return this.http.put(`${b}/control/bay/${e._id}/update`,e).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${b}/control/bay/${e}/delete`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var y=p(9294);function It(n,r){1&n&&(t.TgZ(0,"div",23),t.TgZ(1,"div",24),t.TgZ(2,"span",25),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}function Ot(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"div",26),t.TgZ(7,"input",27),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isActive=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(8,"label",28),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"button",29),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),d=t.MAs(46);return l.openFormModal(d,a)}),t._UZ(11,"i",30),t.qZA(),t.TgZ(12,"button",31),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().confirmDestroyModal(a)}),t._UZ(13,"i",32),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.name),t.xp6(3),t.MGl("id","switchActive",o,""),t.Q6J("ngModel",e.isActive),t.xp6(1),t.MGl("for","switchActive",o,"")}}function wt(n,r){1&n&&(t.TgZ(0,"div",48),t._uU(1,"Este campo es requerido"),t.qZA())}function Yt(n,r){1&n&&(t.TgZ(0,"div",48),t._uU(1,"Este campo no puede exceder 30 caracteres"),t.qZA())}function Qt(n,r){if(1&n&&(t.TgZ(0,"button",49),t._UZ(1,"i",50),t._uU(2," Guardar "),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",!e.formBay.valid)}}function St(n,r){1&n&&(t.TgZ(0,"button",51),t._UZ(1,"span",52),t._uU(2," Guardando... "),t.qZA())}function Lt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t.TgZ(1,"h4",34),t._uU(2,"Formulario Bah\xeda"),t.qZA(),t.TgZ(3,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return null==i.modalRef?null:i.modalRef.hide()}),t.TgZ(4,"span",36),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",8),t.NdJ("submit",function(){return t.CHM(e),t.oxw().onSubmitBay()}),t.TgZ(7,"div",37),t.TgZ(8,"div",38),t.TgZ(9,"label"),t._uU(10,"Nombre*"),t.qZA(),t._UZ(11,"input",39),t.YNc(12,wt,2,0,"div",40),t.YNc(13,Yt,2,0,"div",40),t.qZA(),t.TgZ(14,"div",41),t._UZ(15,"input",42),t.TgZ(16,"label",43),t._uU(17,"Activo"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",44),t.TgZ(19,"button",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().modalRef.hide()}),t._uU(20,"Cancelar"),t.qZA(),t.YNc(21,Qt,3,1,"button",46),t.YNc(22,St,3,0,"button",47),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("formGroup",e.formBay),t.xp6(5),t.Q6J("ngClass",e.getClass("name")),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.maxlength),t.xp6(8),t.Q6J("ngIf",!e.sending),t.xp6(1),t.Q6J("ngIf",e.sending)}}let $t=(()=>{class n{constructor(e,o,i,a){this.API=e,this.fb=o,this.modalService=i,this.common=a,this.params={},this.loading=!1,this.sending=!1,this.bays=[],this.formBay=this.fb.group({_id:[""],name:["",[s.kI.required,s.kI.maxLength(30)]],isActive:[!0]}),this.forma=this.fb.group({field:["name"],query:["",[s.kI.required]]})}ngOnInit(){this.list()}list(){this.loading=!0,this.API.list(this.params).subscribe(e=>{this.bays=e,this.loading=!1})}openFormModal(e,o={}){this.formBay.reset(),o&&this.formBay.patchValue(o),this.modalRef=this.modalService.show(e,{class:"modal-dialog-centered"})}onSubmitBay(){this.sending=!0;const e=this.formBay.value;e._id?this.API.update(e).subscribe(o=>this.finalAction()):(delete e._id,this.API.create(e).subscribe(o=>this.finalAction()))}update(e){this.API.update(e).subscribe(o=>{this.common.showToast("Estado cambiado")})}filter(){const e=this.forma.value,o={[e.field]:e.query};this.params=Object.assign(Object.assign({},this.params),o),this.list()}destroy(e){this.API.delete(e._id).subscribe(o=>{this.common.showToast(`Bahia "${e.name}" fue eliminado correctamente!!!`),this.list()})}confirmDestroyModal(e){const o=this;this.common.showConfirm("\xbfEst\xe1s seguro?",`Al eliminar Bahia ${e.name}, podr\xedas perder informaci\xf3n que est\xe9 relacionada, si est\xe1s seguro continue por favor.`,function(a){a.isConfirmed&&o.destroy(e)})}get f(){return this.formBay.controls}getClass(e){return{"is-valid":this.f[e].touched&&this.f[e].valid,"is-invalid":this.f[e].touched&&this.f[e].invalid}}finalAction(){this.sending=!1,this.modalRef.hide(),this.list(),this.formBay.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ft),t.Y36(s.qu),t.Y36(T.tT),t.Y36(g.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bays"]],decls:47,vars:3,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-2","mb-2"],["tooltip","Nueva bah\xeda",1,"btn","btn-primary","btn-mobile",3,"click"],[1,"ti-plus"],[1,"col-md-4","offset-md-6"],[3,"formGroup","submit"],[1,"input-group","mb-2"],[1,"input-group-prepend"],["formControlName","field",1,"custom-select"],["value","name"],["type","search","formControlName","query","placeholder","Ingrese datos",1,"form-control"],[1,"input-group-append","d-none","d-sm-block"],["type","submit",1,"btn","btn-primary"],[1,"ti-search"],["type","submit",1,"btn","btn-primary","w-100","d-block","mt-2","d-sm-none"],["class","text-center",4,"ngIf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["modalForm",""],[1,"text-center"],["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"custom-control","custom-switch"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange"],[1,"custom-control-label",3,"for"],[1,"btn","btn-outline-info","btn-sm",3,"click"],[1,"ti-pencil"],[1,"btn","btn-outline-danger","btn-sm","ml-2",3,"click"],[1,"ti-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"form-group"],["type","text","formControlName","name","placeholder","Ingrese nombre",1,"form-control",3,"ngClass"],["class","invalid-feedback text-left",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox","formControlName","isActive","id","isActive",1,"custom-control-input"],["for","isActive",1,"custom-control-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","btn-mobile",3,"click"],["type","submit","class","btn btn-primary btn-mobile",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-mobile","type","button","disabled","",4,"ngIf"],[1,"invalid-feedback","text-left"],["type","submit",1,"btn","btn-primary","btn-mobile",3,"disabled"],[1,"ti-save"],["type","button","disabled","",1,"btn","btn-primary","btn-mobile"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Bahia| "),t.TgZ(4,"small"),t._uU(5,"Administrar bahias"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"button",5),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(46);return o.openFormModal(l)}),t._UZ(10,"i",6),t._uU(11," Nuevo "),t.qZA(),t.qZA(),t.TgZ(12,"div",7),t.TgZ(13,"form",8),t.NdJ("submit",function(){return o.filter()}),t.TgZ(14,"div",9),t.TgZ(15,"span",10),t.TgZ(16,"select",11),t.TgZ(17,"option",12),t._uU(18,"Nombre"),t.qZA(),t.qZA(),t.qZA(),t._UZ(19,"input",13),t.TgZ(20,"span",14),t.TgZ(21,"button",15),t._UZ(22,"i",16),t._uU(23," Filtrar"),t.qZA(),t.qZA(),t.TgZ(24,"button",17),t._UZ(25,"i",16),t._uU(26," Filtrar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,It,4,0,"div",18),t.TgZ(28,"div",19),t.TgZ(29,"h5"),t._uU(30,"Lista de bahias"),t.qZA(),t.TgZ(31,"table",20),t.TgZ(32,"thead"),t.TgZ(33,"tr"),t.TgZ(34,"th"),t._uU(35,"#"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Nombre"),t.qZA(),t.TgZ(38,"th"),t.TgZ(39,"small"),t._uU(40,"Activo"),t.qZA(),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Opci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"tbody"),t.YNc(44,Ot,14,5,"tr",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(45,Lt,23,6,"ng-template",null,22,t.W1O)}2&e&&(t.xp6(13),t.Q6J("formGroup",o.forma),t.xp6(14),t.Q6J("ngIf",o.loading),t.xp6(17),t.Q6J("ngForOf",o.bays))},directives:[y.i9,s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,s.Fj,u.O5,u.sg,s.Wl,s.On,u.mk],styles:[""]}),n})();const{endpoint:A}=h.N;let Dt=(()=>{class n{constructor(e){this.http=e}list(e={}){return this.http.get(`${A}/control/lift/list`,Object.assign(Object.assign({},g.c),{params:e})).pipe((0,c.K)(this.errorHandler))}create(e){return this.http.post(`${A}/control/lift/create`,e).pipe((0,c.K)(this.errorHandler))}retrieve(e){return this.http.get(`${A}/control/lift/${e}/retrieve`).pipe((0,c.K)(this.errorHandler))}update(e){return this.http.put(`${A}/control/lift/${e._id}/update`,e).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${A}/control/lift/${e}/delete`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{endpoint:w}=h.N;let Ht=(()=>{class n{constructor(e){this.http=e}create(e){return this.http.post(`${w}/control/lift-operator/create`,e).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${w}/control/lift-operator/${e}/delete`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Et(n,r){1&n&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"span",18),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}function Rt(n,r){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.AsE("",e.operator.firstName," ",e.operator.lastName," "),t.xp6(2),t.Oqu(e.operator.document)}}function Gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"button",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),d=t.MAs(41);return l.showLift(d,a)}),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"ol"),t.YNc(9,Rt,4,3,"li",13),t.qZA(),t.qZA(),t.TgZ(10,"td"),t._UZ(11,"i"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"div",20),t.TgZ(15,"input",21),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isActive=i})("ngModelChange",function(){const a=t.CHM(e).$implicit;return t.oxw().update(a)}),t.qZA(),t._UZ(16,"label",22),t.qZA(),t.qZA(),t.TgZ(17,"td"),t.TgZ(18,"button",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),d=t.MAs(41);return l.showLift(d,a)}),t._UZ(19,"i",23),t.qZA(),t.TgZ(20,"button",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),d=t.MAs(39);return l.openFormModal(d,a)}),t._UZ(21,"i",25),t.qZA(),t.TgZ(22,"button",26),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().confirmDestroy(a)}),t._UZ(23,"i",27),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index;t.xp6(2),t.Oqu(o+1),t.xp6(4),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",e.operators),t.xp6(2),t.Tol(e.isFree?"ti-check-box":"ti-layout-width-full"),t.xp6(1),t.hij(" ",e.isFree?"SI":"NO"," "),t.xp6(3),t.MGl("id","",o,"switch"),t.Q6J("ngModel",e.isActive)("disabled",e.operators.length<1),t.xp6(1),t.MGl("for","",o,"switch")}}function zt(n,r){1&n&&(t.TgZ(0,"div",44),t._uU(1,"Este campo es requerido"),t.qZA())}function Bt(n,r){1&n&&(t.TgZ(0,"div",44),t._uU(1,"Este campo no puede exceder 30 caracteres"),t.qZA())}function Pt(n,r){if(1&n&&(t.TgZ(0,"button",45),t._UZ(1,"i",46),t._uU(2," Guardar "),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",!e.formLift.valid)}}function jt(n,r){1&n&&(t.TgZ(0,"button",47),t._UZ(1,"span",48),t._uU(2," Guardando... "),t.qZA())}function Kt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",28),t.TgZ(1,"h4",29),t._uU(2,"Formulario montacarga"),t.qZA(),t.TgZ(3,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return null==i.modalRef?null:i.modalRef.hide()}),t.TgZ(4,"span",31),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",32),t.NdJ("submit",function(){return t.CHM(e),t.oxw().onSubmitLift()}),t.TgZ(7,"div",33),t.TgZ(8,"div",34),t.TgZ(9,"label"),t._uU(10,"Nombre*"),t.qZA(),t._UZ(11,"input",35),t.YNc(12,zt,2,0,"div",36),t.YNc(13,Bt,2,0,"div",36),t.qZA(),t.TgZ(14,"div",37),t._UZ(15,"input",38),t.TgZ(16,"label",39),t._uU(17,"Libre"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",40),t.YNc(19,Pt,3,1,"button",41),t.YNc(20,jt,3,0,"button",42),t.TgZ(21,"button",43),t.NdJ("click",function(){return t.CHM(e),t.oxw().modalRef.hide()}),t._uU(22,"Cancelar"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("formGroup",e.formLift),t.xp6(5),t.Q6J("ngClass",e.validClass("name")),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.maxlength),t.xp6(6),t.Q6J("ngIf",!e.sending),t.xp6(1),t.Q6J("ngIf",e.sending)}}function Vt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",52),t.TgZ(1,"input",53),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.isChecked=i})("change",function(){const a=t.CHM(e).$implicit;return t.oxw(2).changeOperator(a)}),t.qZA(),t.TgZ(2,"label",22),t._uU(3),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index;t.xp6(1),t.Q6J("ngModel",e.isChecked)("disabled",e.disable),t.uIk("id","cCheck"+o),t.xp6(1),t.s9C("for","cCheck"+o),t.xp6(1),t.AsE("",e.firstName," ",e.lastName,"")}}function Xt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",28),t.TgZ(1,"h4",29),t._uU(2),t.TgZ(3,"small"),t._uU(4,"Asignar operadores"),t.qZA(),t.qZA(),t.TgZ(5,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return null==i.modalRef?null:i.modalRef.hide()}),t.TgZ(6,"span",31),t._uU(7,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",33),t.TgZ(9,"h6"),t._uU(10,"Operadores asignados"),t.qZA(),t.YNc(11,Vt,4,6,"div",49),t.qZA(),t.TgZ(12,"div",40),t.TgZ(13,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().modalRef.hide()}),t._UZ(14,"i",51),t._uU(15," Hecho"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij("",null==e.lift?null:e.lift.name," | "),t.xp6(9),t.Q6J("ngForOf",e.operators)}}let Wt=(()=>{class n{constructor(e,o,i,a,l,d){this.API=e,this.liftOpApi=o,this.userService=i,this.common=a,this.fb=l,this.modalService=d,this.params={},this.sending=!1,this.loading=!1,this.collection=[],this.operators=[],this.formLift=this.fb.group({_id:[""],name:["",[s.kI.required,s.kI.maxLength(30)]],isFree:[!1]})}ngOnInit(){this.list(),this.loadOperators()}list(){this.loading=!0,this.API.list(this.params).subscribe(e=>{this.collection=e,this.loading=!1})}showLift(e,o){this.lift=o;const i=this.collection.filter(l=>l!==o),a=[].concat.apply([],i.map(l=>l.operators));this.operators=this.operators.map(l=>{const d=o.operators.find(J=>J.operator.uid===l.uid),$e=!!a.find(J=>J.operator.uid===l.uid),De=!!d;return Object.assign(Object.assign({},l),{isChecked:De,liftOperator:d,disable:$e})}),this.modalRef=this.modalService.show(e)}changeOperator(e){var o;if(e.isChecked){const i={lift:null===(o=this.lift)||void 0===o?void 0:o._id,operator:e.uid};this.liftOpApi.create(i).subscribe(a=>{this.list(),this.common.showToast("Operador agregado correctamente")})}else this.liftOpApi.delete(e.liftOperator._id).subscribe(i=>{this.list(),this.common.showToast("El operador ha sido removido de este montacarga","warning")})}openFormModal(e,o={}){this.formLift.reset(),o&&this.formLift.patchValue(o),this.modalRef=this.modalService.show(e,{class:"modal-dialog-centered"})}onSubmitLift(){this.sending=!0;const e=this.formLift.value;e._id?this.API.update(e).subscribe(o=>this.finalAction()):(delete e._id,this.API.create(e).subscribe(o=>this.finalAction()))}update(e){this.API.update(e).subscribe(o=>{this.common.showToast("Montacarga "+(o.isActive?"activado":"desactivado")),this.list()})}destroy(e){this.API.delete(e._id).subscribe(o=>{this.common.showToast(`Montacarga "${e.name}" fue eliminado correctamente!!!`),this.list()})}confirmDestroy(e){const o=this;this.common.showConfirm("\xbfEst\xe1s seguro?",`Al eliminar montacarga ${e.name}, podr\xedas perder informaci\xf3n que est\xe9 relacionada, si est\xe1s seguro continue por favor.`,function(a){a.isConfirmed&&o.destroy(e)})}loadOperators(){this.userService.list({page:1,pageSize:50,isOperator:!0,isActive:!0}).subscribe(o=>this.operators=o.results)}finalAction(){this.sending=!1,this.modalRef.hide(),this.list()}get f(){return this.formLift.controls}validClass(e){return{"is-valid":this.f[e].touched&&this.f[e].valid,"is-invalid":this.f[e].touched&&this.f[e].invalid}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Dt),t.Y36(Ht),t.Y36(U),t.Y36(g.v),t.Y36(s.qu),t.Y36(T.tT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-lifts"]],decls:42,vars:2,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-2","mb-2"],["tooltip","Nuevo montacargas",1,"btn","btn-primary","btn-mobile",3,"click"],[1,"ti-plus"],[1,"col-md-10","mb-2","text-right"],[1,"btn","btn-outline-dark","btn-sm",3,"click"],[1,"ti-reload"],["class","text-center",4,"ngIf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["modalLiftForm",""],["modalLift",""],[1,"text-center"],["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],[1,"sr-only"],["tooltip","Ver detalles",1,"btn","btn-link","text-dark",3,"click"],[1,"custom-control","custom-switch"],["type","checkbox",1,"custom-control-input",3,"ngModel","disabled","id","ngModelChange"],[1,"custom-control-label",3,"for"],[1,"ti-settings"],[1,"btn","btn-outline-info","btn-sm","ml-2",3,"click"],[1,"ti-pencil"],[1,"btn","btn-outline-danger","btn-sm","ml-2",3,"click"],[1,"ti-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[3,"formGroup","submit"],[1,"modal-body"],[1,"form-group"],["type","text","formControlName","name","placeholder","Ingrese nombre",1,"form-control",3,"ngClass"],["class","invalid-feedback text-left",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox","formControlName","isFree","id","checkFree",1,"custom-control-input"],["for","checkFree",1,"custom-control-label"],[1,"modal-footer"],["type","submit","class","btn btn-primary btn-mobile",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-mobile","type","button","disabled","",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-mobile",3,"click"],[1,"invalid-feedback","text-left"],["type","submit",1,"btn","btn-primary","btn-mobile",3,"disabled"],[1,"ti-save"],["type","button","disabled","",1,"btn","btn-primary","btn-mobile"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["class","custom-control custom-checkbox mt-3",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-mobile",3,"click"],[1,"ti-check"],[1,"custom-control","custom-checkbox","mt-3"],["type","checkbox",1,"custom-control-input",3,"ngModel","disabled","ngModelChange","change"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Montacargas| "),t.TgZ(4,"small"),t._uU(5,"Administrar"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"button",5),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(39);return o.openFormModal(l)}),t._UZ(10,"i",6),t._uU(11," Nuevo "),t.qZA(),t.qZA(),t.TgZ(12,"div",7),t.TgZ(13,"button",8),t.NdJ("click",function(){return o.list()}),t._UZ(14,"i",9),t.qZA(),t.qZA(),t.qZA(),t.YNc(15,Et,4,0,"div",10),t.TgZ(16,"div",11),t.TgZ(17,"h5"),t._uU(18,"Lista de montacargas"),t.qZA(),t.TgZ(19,"table",12),t.TgZ(20,"thead"),t.TgZ(21,"tr"),t.TgZ(22,"th"),t._uU(23,"#"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Nombre"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Operadores"),t.qZA(),t.TgZ(28,"th"),t.TgZ(29,"small"),t._uU(30,"Libre"),t.qZA(),t.qZA(),t.TgZ(31,"th"),t.TgZ(32,"small"),t._uU(33,"Activo"),t.qZA(),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Opci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"tbody"),t.YNc(37,Gt,24,11,"tr",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(38,Kt,23,6,"ng-template",null,14,t.W1O),t.YNc(40,Xt,16,2,"ng-template",null,15,t.W1O)}2&e&&(t.xp6(15),t.Q6J("ngIf",o.loading),t.xp6(22),t.Q6J("ngForOf",o.collection))},directives:[y.i9,u.O5,u.sg,s.Wl,s.JJ,s.On,s._Y,s.JL,s.sg,s.Fj,s.u,u.mk],styles:[""]}),n})();const{endpoint:q}=h.N;let Y=(()=>{class n{constructor(e){this.http=e}list(e={}){return this.http.get(`${q}/control/truck/list`,Object.assign(Object.assign({},g.c),{params:e})).pipe((0,c.K)(this.errorHandler))}create(e){return this.http.post(`${q}/control/truck/create`,e).pipe((0,c.K)(this.errorHandler))}retrieve(e){return this.http.get(`${q}/control/truck/${e}/retrieve`).pipe((0,c.K)(this.errorHandler))}update(e){return this.http.put(`${q}/control/truck/${e._id}/update`,e).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${q}/control/truck/${e}/delete`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function te(n,r){1&n&&(t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"span",34),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}const ee=function(n){return[n,"update"]};function oe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"small"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t.TgZ(15,"a",35),t._UZ(16,"i",36),t.qZA(),t.TgZ(17,"button",37),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().confirmDestroy(a)}),t._UZ(18,"i",38),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw();t.xp6(2),t.Oqu((i.params.page-1)*i.params.pageSize+o+1),t.xp6(2),t.Oqu(e.plaque),t.xp6(3),t.Oqu(null==e.type?null:e.type.name),t.xp6(2),t.Oqu(e.origin),t.xp6(2),t.Oqu(e.ruc),t.xp6(2),t.Oqu(e.company),t.xp6(2),t.Q6J("routerLink",t.VKq(7,ee,e._id))}}const ne=function(){return["create"]};let re=(()=>{class n{constructor(e,o,i){this.API=e,this.fb=o,this.common=i,this.loading=!1,this.params={page:1,pageSize:10},this.collectionSize=0,this.collection=[],this.forma=this.fb.group({field:["plaque"],query:["",[s.kI.required]]})}ngOnInit(){this.list()}list(){this.loading=!0,this.API.list(this.params).subscribe(e=>{this.collection=e.results,this.collectionSize=e.total,this.loading=!1})}update(e){this.API.update(e).subscribe(o=>{this.common.showToast("Privilegios actualizados")})}filter(){const e=this.forma.value,o={[e.field]:e.query};this.params=Object.assign(Object.assign({},this.params),o),this.list()}paginate(e={page:""}){this.params.page=e.page?e.page:1,this.list()}destroy(e){this.API.delete(e._id).subscribe(o=>{this.common.showToast("El cami\xf3n ha sido eliminado"),this.list()})}confirmDestroy(e){const o=this;this.common.showConfirm("\xa1CUIDADO!",`Est\xe1s a punto de eliminar el cami\xf3n "${e.plaque}", podr\xedas perder informaci\xf3n que est\xe9 relacionada a este. \xbfEst\xe1s segur@?`,function(a){a.isConfirmed&&o.destroy(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y),t.Y36(s.qu),t.Y36(g.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-trucks"]],decls:69,vars:11,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-2","mb-2"],[1,"btn","btn-primary","btn-mobile",3,"routerLink"],[1,"ti-plus"],[1,"col-md-4","offset-md-6"],[3,"formGroup","submit"],[1,"input-group","mb-2"],[1,"input-group-prepend"],["formControlName","field",1,"custom-select"],["value","plaque"],["type","search","formControlName","query","placeholder","Ingrese datos",1,"form-control"],[1,"input-group-append","d-none","d-sm-block"],["type","submit",1,"btn","btn-primary"],[1,"ti-search"],["type","submit",1,"btn","btn-primary","w-100","d-block","mt-2","d-sm-none"],["class","text-center",4,"ngIf"],[2,"overflow-x","auto"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"col-md-10"],[3,"totalItems","ngModel","maxSize","itemsPerPage","pageChanged","ngModelChange"],[1,"col-md-2"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","10"],["value","20"],["value","50"],["value","100"],["value","1000"],[1,"text-center"],["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"ti-pencil"],[1,"btn","btn-outline-danger","btn-sm","ml-2",3,"click"],[1,"ti-trash"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Cami\xf3n| "),t.TgZ(4,"small"),t._uU(5,"Administrar camiones"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"button",5),t._UZ(10,"i",6),t._uU(11," Nuevo"),t.qZA(),t.qZA(),t.TgZ(12,"div",7),t.TgZ(13,"form",8),t.NdJ("submit",function(){return o.filter()}),t.TgZ(14,"div",9),t.TgZ(15,"span",10),t.TgZ(16,"select",11),t.TgZ(17,"option",12),t._uU(18,"Placa"),t.qZA(),t.qZA(),t.qZA(),t._UZ(19,"input",13),t.TgZ(20,"span",14),t.TgZ(21,"button",15),t._UZ(22,"i",16),t._uU(23," Filtrar"),t.qZA(),t.qZA(),t.TgZ(24,"button",17),t._UZ(25,"i",16),t._uU(26," Filtrar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,te,4,0,"div",18),t.TgZ(28,"div",19),t.TgZ(29,"h5"),t._uU(30,"Lista de camiones"),t.qZA(),t.TgZ(31,"table",20),t.TgZ(32,"thead"),t.TgZ(33,"tr"),t.TgZ(34,"th"),t._uU(35,"#"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Placa"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Tipo"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Procendencia"),t.qZA(),t.TgZ(42,"th"),t.TgZ(43,"small"),t._uU(44,"RUC"),t.qZA(),t.qZA(),t.TgZ(45,"th"),t.TgZ(46,"small"),t._uU(47,"Empresa"),t.qZA(),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Opci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"tbody"),t.YNc(51,oe,19,9,"tr",21),t.qZA(),t.qZA(),t.TgZ(52,"div",22),t.TgZ(53,"div",23),t.TgZ(54,"pagination",24),t.NdJ("pageChanged",function(a){return o.paginate(a)})("ngModelChange",function(a){return o.params.page=a}),t.qZA(),t.TgZ(55,"p"),t._uU(56),t.qZA(),t.qZA(),t.TgZ(57,"div",25),t.TgZ(58,"select",26),t.NdJ("ngModelChange",function(a){return o.params.pageSize=a})("ngModelChange",function(){return o.paginate()}),t.TgZ(59,"option",27),t._uU(60,"10"),t.qZA(),t.TgZ(61,"option",28),t._uU(62,"20"),t.qZA(),t.TgZ(63,"option",29),t._uU(64,"50"),t.qZA(),t.TgZ(65,"option",30),t._uU(66,"100"),t.qZA(),t.TgZ(67,"option",31),t._uU(68,"1000"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("routerLink",t.DdM(10,ne)),t.xp6(4),t.Q6J("formGroup",o.forma),t.xp6(14),t.Q6J("ngIf",o.loading),t.xp6(24),t.Q6J("ngForOf",o.collection),t.xp6(3),t.Q6J("totalItems",o.collectionSize)("ngModel",o.params.page)("maxSize",4)("itemsPerPage",o.params.pageSize),t.xp6(2),t.hij("",o.collectionSize," Camiones"),t.xp6(2),t.Q6J("ngModel",o.params.pageSize))},directives:[m.rH,s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,s.Fj,u.O5,u.sg,m.yS,C.Qt,s.On],styles:[""]}),n})();const{endpoint:v}=h.N;let Q=(()=>{class n{constructor(e){this.http=e}list(e={}){return this.http.get(`${v}/control/truck-type/list`,Object.assign(Object.assign({},g.c),{params:e})).pipe((0,c.K)(this.errorHandler))}create(e){return this.http.post(`${v}/control/truck-type/create`,e).pipe((0,c.K)(this.errorHandler))}retrieve(e){return this.http.get(`${v}/control/truck-type/${e}/retrieve`).pipe((0,c.K)(this.errorHandler))}update(e){return this.http.put(`${v}/control/truck-type/${e._id}/update`,e).pipe((0,c.K)(this.errorHandler))}delete(e){return this.http.delete(`${v}/control/truck-type/${e}/delete`).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ie(n,r){1&n&&(t.TgZ(0,"div",25),t._uU(1,"Este campo es requerido"),t.qZA())}function se(n,r){1&n&&(t.TgZ(0,"div",25),t._uU(1,"Este campo no puede exceder 10 caracteres"),t.qZA())}function ae(n,r){if(1&n&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e._id),t.xp6(1),t.Oqu(e.name)}}function le(n,r){if(1&n&&(t.TgZ(0,"button",27),t._UZ(1,"i",28),t._uU(2," Guardar "),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",!e.forma.valid)}}function ce(n,r){1&n&&(t.TgZ(0,"button",29),t._UZ(1,"span",30),t._uU(2," Enviando... "),t.qZA())}const ue=function(){return["/admin","trucks"]};let S=(()=>{class n{constructor(e,o,i,a,l){this.truckService=e,this.ttService=o,this.fb=i,this.router=a,this.activatedRoute=l,this.myTitle="Formulario",this.subTitle="Registrar cami\xf3n",this.sending=!1,this.ttypes=[],this.forma=this.fb.group({_id:[""],plaque:["",[s.kI.required,s.kI.maxLength(10)]],type:["",s.kI.required],origin:[""],ruc:[""],company:[""]})}ngOnInit(){this.activatedRoute.params.subscribe(e=>this.retrieveTruck(e.id)),this.ttService.list().subscribe(e=>this.ttypes=e)}retrieveTruck(e){!e||this.truckService.retrieve(e).subscribe(o=>{this.forma.patchValue(o),this.myTitle="Actualizar cami\xf3n",this.subTitle=`${o.plaque}`})}onSubmit(){this.sending=!0;const e=this.forma.value;e._id?this.truckService.update(e).subscribe(o=>{this.sending=!1,this.router.navigate(["admin","trucks"])}):(delete e._id,this.truckService.create(e).subscribe(o=>{this.sending=!1,this.router.navigate(["admin","trucks"])}))}get f(){return this.forma.controls}classes(e){return{"is-valid":this.f[e].touched&&this.f[e].valid,"is-invalid":this.f[e].touched&&this.f[e].invalid}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y),t.Y36(Q),t.Y36(s.qu),t.Y36(m.F0),t.Y36(m.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-truck-form"]],decls:41,vars:14,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[3,"formGroup","submit"],[1,"form-row"],[1,"form-group","col-md-6"],["for","plaque"],["type","text","formControlName","plaque","id","plaque","placeholder","Ingrese placa vehicular",1,"form-control",3,"ngClass"],["class","invalid-feedback text-left",4,"ngIf"],["for","tipo"],["formControlName","type","id","tipo",1,"custom-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group"],["for","origin"],["type","text","formControlName","origin","id","origin","placeholder","Ingrese procedencia",1,"form-control",3,"ngClass"],["id","helpId",1,"text-muted"],["for","ruc"],["type","text","formControlName","ruc","id","ruc","placeholder","Ingrese ruc",1,"form-control",3,"ngClass"],["for","company"],["type","text","formControlName","company","id","company","placeholder","Ingrese raz\xf3n social",1,"form-control",3,"ngClass"],["type","submit","class","btn btn-primary btn-mobile",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-mobile","type","button","disabled","",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-mobile",3,"routerLink"],[1,"ti-arrow-left"],[1,"invalid-feedback","text-left"],[3,"value"],["type","submit",1,"btn","btn-primary","btn-mobile",3,"disabled"],[1,"ti-save"],["type","button","disabled","",1,"btn","btn-primary","btn-mobile"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3),t.TgZ(4,"small"),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"form",3),t.NdJ("submit",function(){return o.onSubmit()}),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"label",6),t._uU(11,"C\xe9dula*"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,ie,2,0,"div",8),t.YNc(14,se,2,0,"div",8),t.qZA(),t.TgZ(15,"div",5),t.TgZ(16,"label",9),t._uU(17,"Tipo de cami\xf3n"),t.qZA(),t.TgZ(18,"select",10),t.TgZ(19,"option",11),t._uU(20,"------------------"),t.qZA(),t.YNc(21,ae,2,2,"option",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",13),t.TgZ(23,"label",14),t._uU(24,"Procendencia"),t.qZA(),t._UZ(25,"input",15),t.TgZ(26,"small",16),t._uU(27,"Lugar de origen"),t.qZA(),t.qZA(),t.TgZ(28,"div",13),t.TgZ(29,"label",17),t._uU(30,"RUC"),t.qZA(),t._UZ(31,"input",18),t.qZA(),t.TgZ(32,"div",13),t.TgZ(33,"label",19),t._uU(34,"Empresa"),t.qZA(),t._UZ(35,"input",20),t.qZA(),t.YNc(36,le,3,1,"button",21),t.YNc(37,ce,3,0,"button",22),t.TgZ(38,"button",23),t._UZ(39,"i",24),t._uU(40," Cancelar "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij("",o.myTitle,"| "),t.xp6(2),t.Oqu(o.subTitle),t.xp6(2),t.Q6J("formGroup",o.forma),t.xp6(5),t.Q6J("ngClass",o.classes("plaque")),t.xp6(1),t.Q6J("ngIf",null==o.f.plaque.errors?null:o.f.plaque.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.f.plaque.errors?null:o.f.plaque.errors.maxlength),t.xp6(7),t.Q6J("ngForOf",o.ttypes),t.xp6(4),t.Q6J("ngClass",o.classes("origin")),t.xp6(6),t.Q6J("ngClass",o.classes("ruc")),t.xp6(4),t.Q6J("ngClass",o.classes("company")),t.xp6(1),t.Q6J("ngIf",!o.sending),t.xp6(1),t.Q6J("ngIf",o.sending),t.xp6(1),t.Q6J("routerLink",t.DdM(13,ue)))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,u.mk,u.O5,s.EJ,s.YN,s.Kr,u.sg,m.rH],styles:[""]}),n})();function pe(n,r){1&n&&(t.TgZ(0,"div",12),t.TgZ(1,"div",13),t.TgZ(2,"span",14),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}function de(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t._UZ(9,"br"),t.TgZ(10,"small"),t._uU(11,"Minutos"),t.qZA(),t.qZA(),t.TgZ(12,"td"),t._uU(13),t._UZ(14,"br"),t.TgZ(15,"small"),t._uU(16,"Minutos"),t.qZA(),t.qZA(),t.TgZ(17,"td"),t.TgZ(18,"button",15),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),d=t.MAs(36);return l.openFormModal(d,a)}),t._UZ(19,"i",16),t.qZA(),t.TgZ(20,"button",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().confirmDestroy(a)}),t._UZ(21,"i",18),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.hij("",e.maxTimeUnload," "),t.xp6(5),t.hij("",e.maxTimeLoad," ")}}function me(n,r){1&n&&(t.TgZ(0,"div",38),t._uU(1,"Este campo es requerido"),t.qZA())}function ge(n,r){1&n&&(t.TgZ(0,"div",38),t._uU(1,"Este campo no puede exceder 30 caracteres"),t.qZA())}function _e(n,r){1&n&&(t.TgZ(0,"div",38),t._uU(1,"Este campo no puede exceder 40 caracteres"),t.qZA())}function Ze(n,r){1&n&&(t.TgZ(0,"div",38),t._uU(1,"Este campo es requerido"),t.qZA())}function he(n,r){1&n&&(t.TgZ(0,"div",38),t._uU(1,"Este campo es requerido"),t.qZA())}function fe(n,r){if(1&n&&(t.TgZ(0,"button",39),t._UZ(1,"i",40),t._uU(2," Guardar"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",!e.forma.valid)}}function Te(n,r){1&n&&(t.TgZ(0,"button",41),t._UZ(1,"span",42),t._uU(2," Guardando... "),t.qZA())}function be(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"h4",20),t._uU(2,"Tipo cami\xf3n"),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return null==i.modalRef?null:i.modalRef.hide()}),t.TgZ(4,"span",22),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",23),t.NdJ("submit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(7,"div",24),t.TgZ(8,"div",25),t.TgZ(9,"label"),t._uU(10,"Nombre*"),t.qZA(),t._UZ(11,"input",26),t.YNc(12,me,2,0,"div",27),t.YNc(13,ge,2,0,"div",27),t.qZA(),t.TgZ(14,"div",25),t.TgZ(15,"label"),t._uU(16,"Descripci\xf3n"),t.qZA(),t._UZ(17,"input",28),t.YNc(18,_e,2,0,"div",27),t.qZA(),t.TgZ(19,"div",29),t.TgZ(20,"div",30),t.TgZ(21,"label"),t._uU(22,"Tiempo m\xe1ximo descarga"),t.qZA(),t._UZ(23,"input",31),t.TgZ(24,"small",32),t._uU(25,"Tiempo en minutos"),t.qZA(),t.YNc(26,Ze,2,0,"div",27),t.qZA(),t.TgZ(27,"div",30),t.TgZ(28,"label"),t._uU(29,"Tiempo m\xe1ximo carga"),t.qZA(),t._UZ(30,"input",33),t.TgZ(31,"small",32),t._uU(32,"Tiempo en minutos"),t.qZA(),t.YNc(33,he,2,0,"div",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",34),t.YNc(35,fe,3,1,"button",35),t.YNc(36,Te,3,0,"button",36),t.TgZ(37,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().modalRef.hide()}),t._uU(38,"Cancelar"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("formGroup",e.forma),t.xp6(5),t.Q6J("ngClass",e.classes("name")),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.maxlength),t.xp6(4),t.Q6J("ngClass",e.classes("description")),t.xp6(1),t.Q6J("ngIf",null==e.f.description.errors?null:e.f.description.errors.maxlength),t.xp6(5),t.Q6J("ngClass",e.classes("maxTimeUnload")),t.xp6(3),t.Q6J("ngIf",null==e.f.maxTimeUnload.errors?null:e.f.maxTimeUnload.errors.required),t.xp6(4),t.Q6J("ngClass",e.classes("maxTimeLoad")),t.xp6(3),t.Q6J("ngIf",null==e.f.maxTimeLoad.errors?null:e.f.maxTimeLoad.errors.required),t.xp6(2),t.Q6J("ngIf",!e.sending),t.xp6(1),t.Q6J("ngIf",e.sending)}}let Ae=(()=>{class n{constructor(e,o,i,a){this.API=e,this.common=o,this.fb=i,this.modalService=a,this.params={},this.loading=!1,this.sending=!1,this.collection=[],this.forma=this.fb.group({_id:[""],name:["",[s.kI.required,s.kI.maxLength(30)]],description:["",[s.kI.maxLength(40)]],maxTimeUnload:[0,[s.kI.required]],maxTimeLoad:[0,[s.kI.required]]})}ngOnInit(){this.list()}list(){this.loading=!0,this.API.list(this.params).subscribe(e=>{this.collection=e,this.loading=!1})}openFormModal(e,o={}){this.forma.reset(),o&&this.forma.patchValue(o),this.modalRef=this.modalService.show(e,{class:"modal-dialog-centered"})}onSubmit(){this.sending=!0;const e=this.forma.value;e._id?this.API.update(e).subscribe(o=>this.finalActions()):(delete e._id,this.API.create(e).subscribe(o=>this.finalActions()))}finalActions(){var e;this.sending=!1,null===(e=this.modalRef)||void 0===e||e.hide(),this.list()}destroy(e){this.API.delete(e._id).subscribe(o=>{this.common.showToast(`El tipo de cami\xf3n "${e.name}" fue eliminado correctamente!!!`),this.list()})}confirmDestroy(e){const o=this;this.common.showConfirm("\xa1\xa1\xa1CUIDADO!!!",`Est\xe1s a punto de eliminar el tipo de cami\xf3n "${e.name}", podr\xedas perder informaci\xf3n que est\xe9 relacionada a este. \xbfEst\xe1s segur@?`,function(a){a.isConfirmed&&o.destroy(e)})}get f(){return this.forma.controls}classes(e){return{"is-valid":this.f[e].touched&&this.f[e].valid,"is-invalid":this.f[e].touched&&this.f[e].invalid}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q),t.Y36(g.v),t.Y36(s.qu),t.Y36(T.tT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-truck-types"]],decls:37,vars:2,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-2","mb-2"],["tooltip","Nuevo tipo de cami\xf3n",1,"btn","btn-primary","w-100",3,"click"],[1,"ti-plus"],["class","text-center",4,"ngIf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["template",""],[1,"text-center"],["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"ti-pencil"],[1,"btn","btn-outline-danger","btn-sm","ml-2",3,"click"],[1,"ti-trash"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[3,"formGroup","submit"],[1,"modal-body"],[1,"form-group"],["type","text","formControlName","name","placeholder","Ingrese nombre",1,"form-control",3,"ngClass"],["class","invalid-feedback text-left",4,"ngIf"],["type","text","formControlName","description","placeholder","Ingrese una descripci\xf3n",1,"form-control",3,"ngClass"],[1,"form-row"],[1,"form-group","col-md-6"],["type","number","formControlName","maxTimeUnload","placeholder","Ingrese minutos",1,"form-control",3,"ngClass"],[1,"text-muted"],["type","number","formControlName","maxTimeLoad","placeholder","Ingrese minutos",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","submit","class","btn btn-primary btn-mobile",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-mobile","type","button","disabled","",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-mobile",3,"click"],[1,"invalid-feedback","text-left"],["type","submit",1,"btn","btn-primary","btn-mobile",3,"disabled"],[1,"ti-save"],["type","button","disabled","",1,"btn","btn-primary","btn-mobile"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Tipo cami\xf3n| "),t.TgZ(4,"small"),t._uU(5,"Administrar los tipos de cami\xf3n"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"button",5),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(36);return o.openFormModal(l)}),t._UZ(10,"i",6),t._uU(11," Nuevo "),t.qZA(),t.qZA(),t.qZA(),t.YNc(12,pe,4,0,"div",7),t.TgZ(13,"div",8),t.TgZ(14,"h5"),t._uU(15,"Lista de tipos de cami\xf3n"),t.qZA(),t.TgZ(16,"table",9),t.TgZ(17,"thead"),t.TgZ(18,"tr"),t.TgZ(19,"th"),t._uU(20,"#"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Nombre"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Descripci\xf3n"),t.qZA(),t.TgZ(25,"th"),t.TgZ(26,"small"),t._uU(27,"Max. Tiempo descarga"),t.qZA(),t.qZA(),t.TgZ(28,"th"),t.TgZ(29,"small"),t._uU(30,"Max. Tiempo carga"),t.qZA(),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Opci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"tbody"),t.YNc(34,de,22,5,"tr",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(35,be,39,12,"ng-template",null,11,t.W1O)}2&e&&(t.xp6(12),t.Q6J("ngIf",o.loading),t.xp6(22),t.Q6J("ngForOf",o.collection))},directives:[y.i9,u.O5,u.sg,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,u.mk,s.wV],styles:[""]}),n})();const{endpoint:L}=h.N;let $=(()=>{class n{constructor(e){this.http=e}download(){return this.http.get(`${L}/control/report/all`,{observe:"body",responseType:"blob"}).pipe((0,c.K)(this.errorHandler))}atct(e){return this.http.get(`${L}/control/report/atct`,{params:e}).pipe((0,c.K)(this.errorHandler))}errorHandler(e){return(0,Z._)(()=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var D=p(1463);let qe=(()=>{class n{constructor(e,o){this.reportService=e,this.fileSaverService=o}ngOnInit(){}uuid(){return"_"+Math.random().toString(36).substr(2,9)}download(){this.reportService.download().subscribe(e=>this.fileSaverService.save(e,this.uuid()))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($),t.Y36(D.m9))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reports"]],decls:11,vars:0,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-3","mb-2"],[1,"col-md-4","offset-md-5"],[1,"btn","btn-primary","w-100","d-block","mt-2",3,"click"],[1,"ti-download"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Reporte"),t.qZA(),t._UZ(4,"hr"),t.TgZ(5,"div",3),t._UZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"button",6),t.NdJ("click",function(){return o.download()}),t._UZ(9,"i",7),t._uU(10," Descargar reporte"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},styles:[""]}),n})();var H=p(9560);function ve(n,r){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ce(n,r){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ue(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",16),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA(),t.BQk()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.nombre)}}function xe(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",16),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA(),t.BQk()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.id_dia)}}function ye(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",20),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA(),t.BQk()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.atct)}}function ke(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",20),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA(),t.BQk()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.metaAtct)}}function Ne(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",20),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA(),t.BQk()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.pi_atct)}}function Je(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",20),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA(),t.BQk()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.unidades)}}let Me=(()=>{class n{constructor(e,o){this.fb=e,this.reportService=o,this.years=[],this.months=[{id:1,name:"Enero"},{id:2,name:"Febrero"},{id:3,name:"Marzo"},{id:4,name:"Abril"},{id:5,name:"Mayo"},{id:6,name:"junio"},{id:7,name:"Julio"},{id:8,name:"Agosto"},{id:9,name:"Septiembre"},{id:10,name:"Octubre"},{id:11,name:"Noviembre"},{id:12,name:"Diciembre"}],this.month={},this.mtd={},this.atcts=[],this.date=new Date,this.nowYear=this.date.getFullYear(),this.nowMonth=this.date.getMonth()+1,this.form=this.fb.group({year:this.nowYear,month:this.nowMonth})}ngOnInit(){var e;this.years=this.getYears(3),this.month=this.months.find(o=>{var i;return o.id==(null===(i=this.form.get("month"))||void 0===i?void 0:i.value)}),this.getReport(),null===(e=this.form.get("month"))||void 0===e||e.valueChanges.subscribe(o=>{this.month=this.months.find(i=>i.id==o)})}getYears(e){const o=(new Date).getFullYear();return Array.from({length:e},(i,a)=>o-e+a+1)}getReport(){const{year:e,month:o}=this.form.value;let i=(new _.LE).set("year",e).set("month",o);this.reportService.atct(i).subscribe(({atct:a,bar:l,mtd:d})=>{this.atcts=a,this.mtd=d,this.getBar(l)})}getBar(e){const{xAxis:o,yAxis:i}=e;this.options={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{rotate:30},data:o}],yAxis:[{type:"value",name:"Horas",min:0,max:4,position:"right",axisLabel:{formatter:"{value} h"}},{type:"value",name:"Horas",min:0,max:4,position:"left",axisLabel:{formatter:"{value} h"}}],series:[{name:"KPI - ATCT",type:"bar",yAxisIndex:0,data:i}]}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36($))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-atct"]],decls:63,vars:15,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-3","mb-2"],[1,"row",3,"formGroup"],[1,"col"],["formControlName","year","aria-label","Default select example",1,"custom-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","month","aria-label","Default select example",1,"custom-select",3,"change"],[1,"col-md-4","offset-md-5"],["echarts","",1,"demo-chart","mt-5",2,"width","100%",3,"options"],[1,"table-responsive"],[1,"table","table-bordered","table-sm"],[1,"text-center"],["scope","col",2,"background","#0089ff","color","white"],["scope","col",2,"background","#cb0808","color","white"],[4,"ngFor","ngForOf"],["scope","col",1,"bg-light"],[3,"value"],["scope","col"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Atct | "),t.TgZ(4,"small"),t._uU(5,"Reporte atct"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"form",5),t.TgZ(10,"div",6),t.TgZ(11,"select",7),t.NdJ("change",function(){return o.getReport()}),t.YNc(12,ve,2,2,"option",8),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"select",9),t.NdJ("change",function(){return o.getReport()}),t.YNc(15,Ce,2,2,"option",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(16,"div",10),t.qZA(),t._UZ(17,"div",11),t.TgZ(18,"div",12),t.TgZ(19,"table",13),t.TgZ(20,"thead"),t.TgZ(21,"tr",14),t.TgZ(22,"th",15),t.TgZ(23,"small"),t._uU(24,"Mes"),t.qZA(),t.qZA(),t.TgZ(25,"th",16),t.TgZ(26,"small"),t._uU(27,"MTD"),t.qZA(),t.qZA(),t.YNc(28,Ue,4,1,"ng-container",17),t.qZA(),t.TgZ(29,"tr",14),t.TgZ(30,"th",15),t.TgZ(31,"small"),t._uU(32),t.qZA(),t.qZA(),t._UZ(33,"th",16),t.YNc(34,xe,4,1,"ng-container",17),t.qZA(),t.TgZ(35,"tr",14),t.TgZ(36,"th",18),t.TgZ(37,"small"),t._uU(38,"ATCT"),t.qZA(),t.qZA(),t.TgZ(39,"th",18),t._uU(40),t.qZA(),t.YNc(41,ye,4,1,"ng-container",17),t.qZA(),t.TgZ(42,"tr",14),t.TgZ(43,"th",18),t.TgZ(44,"small"),t._uU(45,"Meta ATCT"),t.qZA(),t.qZA(),t.TgZ(46,"th",18),t._uU(47),t.qZA(),t.YNc(48,ke,4,1,"ng-container",17),t.qZA(),t.TgZ(49,"tr",14),t.TgZ(50,"th",18),t.TgZ(51,"small"),t._uU(52,"Total tiempo"),t.qZA(),t.qZA(),t.TgZ(53,"th",18),t._uU(54),t.qZA(),t.YNc(55,Ne,4,1,"ng-container",17),t.qZA(),t.TgZ(56,"tr",14),t.TgZ(57,"th",18),t.TgZ(58,"small"),t._uU(59,"Unidades"),t.qZA(),t.qZA(),t.TgZ(60,"th",18),t._uU(61),t.qZA(),t.YNc(62,Je,4,1,"ng-container",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(3),t.Q6J("ngForOf",o.years),t.xp6(3),t.Q6J("ngForOf",o.months),t.xp6(2),t.Q6J("options",o.options),t.xp6(11),t.Q6J("ngForOf",o.atcts),t.xp6(4),t.Oqu(o.month.name),t.xp6(2),t.Q6J("ngForOf",o.atcts),t.xp6(6),t.Oqu(o.mtd.total_atc),t.xp6(1),t.Q6J("ngForOf",o.atcts),t.xp6(6),t.Oqu(o.mtd.meta_atct),t.xp6(1),t.Q6J("ngForOf",o.atcts),t.xp6(6),t.Oqu(o.mtd.total_tiempo),t.xp6(1),t.Q6J("ngForOf",o.atcts),t.xp6(6),t.Oqu(o.mtd.unidades),t.xp6(1),t.Q6J("ngForOf",o.atcts))},directives:[s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,u.sg,s.YN,s.Kr,H._w],styles:[""]}),n})();var Fe=p(655);function Ie(n,r){1&n&&(t.TgZ(0,"div",14),t.TgZ(1,"div",15),t.TgZ(2,"span",16),t._uU(3,"Loading..."),t.qZA(),t.qZA(),t.qZA())}function Oe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"a",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(),d=t.MAs(38);return l.openModal(d,a)}),t._UZ(15,"i",18),t.qZA(),t.TgZ(16,"button",19),t._UZ(17,"i",20),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=r.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.goalSorting),t.xp6(2),t.Oqu(e.goalPicking),t.xp6(2),t.Oqu(e.region)}}function we(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"h4",22),t._uU(2,"Modal"),t.qZA(),t.TgZ(3,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return null==i.modalRef?null:i.modalRef.hide()}),t.TgZ(4,"span",24),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",25),t.TgZ(7,"div",26),t.TgZ(8,"label",27),t._uU(9,"BK"),t.qZA(),t._UZ(10,"input",28),t.qZA(),t.TgZ(11,"div",26),t.TgZ(12,"label",27),t._uU(13,"CD"),t.qZA(),t._UZ(14,"input",29),t.qZA(),t.TgZ(15,"div",26),t.TgZ(16,"label",30),t._uU(17,"Meta sorting"),t.qZA(),t._UZ(18,"input",31),t.qZA(),t.TgZ(19,"div",26),t.TgZ(20,"label",27),t._uU(21,"Meta picking"),t.qZA(),t._UZ(22,"input",32),t.qZA(),t.TgZ(23,"div",26),t.TgZ(24,"label",33),t._uU(25,"Regi\xf3n"),t.qZA(),t._UZ(26,"input",34),t.qZA(),t.qZA(),t.TgZ(27,"div",35),t.TgZ(28,"button",36),t._uU(29,"Cancelar"),t.qZA(),t.TgZ(30,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().save()}),t._UZ(31,"i",38),t._uU(32," Guardar "),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("formGroup",e.form),t.xp6(24),t.Q6J("disabled",e.form.invalid)}}const Ye=[{path:"dashboard",component:W},{path:"users",component:it},{path:"users/create",component:O},{path:"users/:id/update",component:O},{path:"users/:id/detail",component:Mt},{path:"bays",component:$t},{path:"lifts",component:Wt},{path:"trucks",component:re},{path:"trucks/create",component:S},{path:"trucks/:id/update",component:S},{path:"truck-types",component:Ae},{path:"report",component:qe},{path:"atct",component:Me},{path:"campus",component:(()=>{class n{constructor(e,o,i){this.modalService=e,this.fb=o,this.campusService=i,this.loading=!1,this.campus=[],this.form=this.fb.group({name:["",s.kI.required],code:["",[s.kI.required,s.kI.maxLength(4),s.kI.minLength(4)]],goalSorting:[315,s.kI.required],goalPicking:[215,s.kI.required],region:[""],_id:[]})}ngOnInit(){this.all()}all(){this.campusService.list().subscribe(e=>{this.campus=e})}openModal(e,o){o&&this.form.patchValue(o),this.modalRef=this.modalService.show(e,{class:"modal-dialog-centered"})}save(){const e=this.form.value,{_id:o}=e,i=(0,Fe._T)(e,["_id"]);o?this.campusService.update(this.form.value).subscribe(a=>{var l;this.all(),null===(l=this.modalRef)||void 0===l||l.hide(),this.form.reset("")}):this.campusService.create(i).subscribe(a=>{var l;this.all(),null===(l=this.modalRef)||void 0===l||l.hide(),this.form.reset("")})}delete(e){this.campusService.delete(e).subscribe(o=>{console.log(o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.tT),t.Y36(s.qu),t.Y36(I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-campus"]],decls:39,vars:2,consts:[[1,"card"],[1,"card-body","mb-5"],[1,"card-title"],[1,"row"],[1,"col-md-2","mb-2"],[1,"btn","btn-primary","w-100",3,"click"],[1,"ti-plus"],[1,"col-md-4","offset-md-6"],["class","text-center",4,"ngIf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],["template",""],[1,"text-center"],["role","status",1,"spinner-border",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"ti-pencil"],[1,"btn","btn-outline-danger","btn-sm","ml-2"],[1,"ti-trash"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body",3,"formGroup"],[1,"form-group"],["for","code"],["type","text","formControlName","code","placeholder","Ingrese region",1,"form-control"],["type","text","formControlName","name","placeholder","Ingrese nombre CD",1,"form-control"],["for","goalSorting"],["type","number","formControlName","goalSorting","placeholder","Ingrese nombre CD",1,"form-control"],["type","number","formControlName","goalPicking","placeholder","Ingrese nombre CD",1,"form-control"],["for","region"],["type","text","formControlName","region","placeholder","Ingrese region",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","btn-mobile"],[1,"btn","btn-primary","btn-mobile",3,"disabled","click"],[1,"ti-save"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Sedes| "),t.TgZ(4,"small"),t._uU(5,"Administrar sedes"),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"button",5),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(38);return o.openModal(l)}),t._UZ(10,"i",6),t._uU(11," Nuevo"),t.qZA(),t.qZA(),t._UZ(12,"div",7),t.qZA(),t.YNc(13,Ie,4,0,"div",8),t.TgZ(14,"div",9),t.TgZ(15,"h5"),t._uU(16,"Lista de sedes"),t.qZA(),t.TgZ(17,"table",10),t.TgZ(18,"thead"),t.TgZ(19,"tr"),t.TgZ(20,"th"),t._uU(21,"#"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"CD"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"BK"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Meta sorting"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Meta picking"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Regi\xf3n"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Opci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"tbody"),t.YNc(35,Oe,18,6,"tr",11),t.qZA(),t.qZA(),t._UZ(36,"div",12),t.qZA(),t.qZA(),t.qZA(),t.YNc(37,we,33,2,"ng-template",null,13,t.W1O)}2&e&&(t.xp6(13),t.Q6J("ngIf",o.loading),t.xp6(22),t.Q6J("ngForOf",o.campus))},directives:[u.O5,u.sg,s.JL,s.sg,s.Fj,s.JJ,s.u,s.wV],styles:[""]}),n})()},{path:"",redirectTo:"dashboard",pathMatch:"full"}];let Qe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.Bz.forChild(Ye)],m.Bz]}),n})();var Se=p(4466);let Le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.UX,s.u5,Qe,Se.m,y.z8.forRoot(),C.u3.forRoot(),T.zk.forRoot(),N.kn.forRoot(),F.UU.forRoot(),D.pL,H.Ns.forRoot({echarts:()=>p.e(45).then(p.bind(p,8045))})]]}),n})()}}]);